(*CacheID: 234*)
(* Internal cache information:
NotebookFileLineBreakTest
NotebookFileLineBreakTest
NotebookDataPosition[         0,          0]
NotebookDataLength[    105160,       2358]
NotebookOptionsPosition[    100726,       2249]
NotebookOutlinePosition[    101081,       2265]
CellTagsIndexPosition[    101038,       2262]
WindowFrame->Normal*)

(* Beginning of Notebook Content *)
Notebook[{
Cell["Info:", "Section",
 CellChangeTimes->{{3.747360508959676*^9, 
  3.747360537169442*^9}},ExpressionUUID->"4a72d8f6-2f2a-4cf3-8886-\
28310e320fb2"],

Cell[CellGroupData[{

Cell["Function:", "Section",
 CellChangeTimes->{{3.747360508959676*^9, 
  3.747360511451571*^9}},ExpressionUUID->"653e7b39-33d0-4f9c-99cc-\
01ea85529b57"],

Cell[CellGroupData[{

Cell["MyROI[{img, img, ...},outfile]", "Subsection",
 InitializationCell->True,
 CellChangeTimes->{{3.543902343799969*^9, 3.543902349540779*^9}, {
  3.5441344624597664`*^9, 3.544134464923476*^9}, {3.544135561931566*^9, 
  3.5441355686678905`*^9}, {3.5441356420237923`*^9, 3.5441356426679974`*^9}, {
  3.544138757241422*^9, 3.5441387583958244`*^9}, {3.544142277820612*^9, 
  3.544142280828374*^9}, {3.5441527424248085`*^9, 3.5441527475452394`*^9}, {
  3.5441534274971266`*^9, 3.544153483384877*^9}, {3.54422492803025*^9, 
  3.544224930838561*^9}, {3.544225044639053*^9, 3.544225048621418*^9}, {
  3.5445704181968117`*^9, 3.544570425685158*^9}, {3.716316843832747*^9, 
  3.716316845140623*^9}},ExpressionUUID->"8d2403e8-04ff-4b5a-b538-\
dc3d217d2b3d"],

Cell[BoxData[
 RowBox[{
  RowBox[{"MyROI", "[", 
   RowBox[{
    RowBox[{"allimage", ":", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{"_", "?", "ImageQ"}], ".."}], "}"}]}], ",", 
    RowBox[{"outfile_", "?", "StringQ"}]}], "]"}], ":=", 
  RowBox[{"Module", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"allimg", "=", "allimage"}], "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{"DynamicModule", "[", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{
        RowBox[{"Nimg", "=", 
         RowBox[{"Length", "[", "allimg", "]"}]}], ",", "thold", ",", 
        RowBox[{"myt", "=", "1"}], ",", 
        RowBox[{"y", "=", "1"}], ",", 
        RowBox[{"myflag", "=", "\"\<  Ready.\>\""}], ",", 
        RowBox[{"Colors", "=", 
         RowBox[{"{", 
          RowBox[{
          "Black", ",", "Red", ",", "Green", ",", "Blue", ",", "Purple", ",", 
           "Orange", ",", "Brown", ",", "Gray", ",", "Pink", ",", "Cyan"}], 
          "}"}]}], ",", "w", ",", "h", ",", "mymask", ",", "mymaska", ",", 
        "mymaskb", ",", "mynewmask", ",", "zoom", ",", "mymaskc", ",", 
        "mytable", ",", "mytemptable", ",", "myCentroid", ",", "myroi", ",", 
        "chN", ",", "mycurpoints", ",", "mysavepoints", ",", "mytemppoints", 
        ",", 
        RowBox[{"r", "=", 
         RowBox[{"{", 
          RowBox[{"0", ",", "0"}], "}"}]}], ",", "cury", ",", "numy", ",", 
        RowBox[{"roin", "=", "30"}], ",", "roit", ",", "myshape", ",", "p1", 
        ",", "p2", ",", "Size", ",", "Ns", ",", "roic", ",", "mydata", ",", 
        "bd", ",", " ", "tholdch", ",", "tholdsize", ",", 
        RowBox[{"myflag2", "=", "\"\< \>\""}], ",", 
        RowBox[{"sizemean", "=", "1"}], ",", "mycc"}], "}"}], ",", 
      "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"mynewmask", "=", "0"}], ";", "\[IndentingNewLine]", 
       RowBox[{"thold", "=", "0.8"}], ";", "\[IndentingNewLine]", 
       RowBox[{"tholdsize", "=", "9"}], ";", "\[IndentingNewLine]", 
       RowBox[{"tholdch", "=", "1"}], ";", "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{"w", ",", "h"}], "}"}], "=", 
        RowBox[{
         RowBox[{
         "allimg", "\[LeftDoubleBracket]", "1", "\[RightDoubleBracket]"}], "//",
          "ImageDimensions"}]}], ";", "\[IndentingNewLine]", 
       RowBox[{"mytable", "=", 
        RowBox[{"Table", "[", 
         RowBox[{"0.", ",", 
          RowBox[{"{", 
           RowBox[{"i", ",", "1", ",", "h", ",", "1"}], "}"}], ",", 
          RowBox[{"{", 
           RowBox[{"j", ",", "1", ",", "w", ",", "1"}], "}"}]}], "]"}]}], ";",
        "\[IndentingNewLine]", 
       RowBox[{"bd", "=", 
        RowBox[{
         RowBox[{
         "allimg", "\[LeftDoubleBracket]", "1", "\[RightDoubleBracket]"}], "//",
          "ImageType"}]}], ";", "\[IndentingNewLine]", 
       RowBox[{"chN", "=", 
        RowBox[{
         RowBox[{
         "allimg", "\[LeftDoubleBracket]", "1", "\[RightDoubleBracket]"}], "//",
          "ImageChannels"}]}], ";", "\[IndentingNewLine]", 
       RowBox[{"mysavepoints", "=", 
        RowBox[{"Table", "[", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"{", 
              RowBox[{"1.", ",", "1."}], "}"}], "}"}], ",", "1.", ",", 
            RowBox[{"If", "[", 
             RowBox[{
              RowBox[{"chN", ">", "1"}], ",", 
              RowBox[{"Table", "[", 
               RowBox[{"1.", ",", 
                RowBox[{"{", 
                 RowBox[{"i", ",", "1", ",", "chN", ",", "1"}], "}"}]}], 
               "]"}], ",", "1"}], "]"}], ",", "1."}], "}"}], ",", 
          RowBox[{"{", 
           RowBox[{"i", ",", "1", ",", "30", ",", "1"}], "}"}], ",", 
          RowBox[{"{", 
           RowBox[{"j", ",", "1", ",", "Nimg", ",", "1"}], "}"}]}], "]"}]}], 
       ";", "\[IndentingNewLine]", 
       RowBox[{"mycurpoints", "=", 
        RowBox[{"Table", "[", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"{", 
              RowBox[{"1.", ",", "1."}], "}"}], "}"}], ",", "1.", ",", 
            RowBox[{"If", "[", 
             RowBox[{
              RowBox[{"chN", ">", "1"}], ",", 
              RowBox[{"Table", "[", 
               RowBox[{"1.", ",", 
                RowBox[{"{", 
                 RowBox[{"i", ",", "1", ",", "chN", ",", "1"}], "}"}]}], 
               "]"}], ",", "1"}], "]"}], ",", "1."}], "}"}], ",", 
          RowBox[{"{", 
           RowBox[{"i", ",", "1", ",", "30", ",", "1"}], "}"}]}], "]"}]}], 
       ";", "\[IndentingNewLine]", "\[IndentingNewLine]", 
       RowBox[{"(*", 
        RowBox[{
        "CHECK", " ", "FOR", " ", "PREVIOUS", " ", "ROI", " ", "FILES"}], 
        "*)"}], "\[IndentingNewLine]", 
       RowBox[{"If", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"FileNames", "[", "outfile", "]"}], "\[NotEqual]", 
          RowBox[{"{", "}"}]}], ",", "\[IndentingNewLine]", 
         RowBox[{
          RowBox[{"mytemppoints", "=", 
           RowBox[{"(", 
            RowBox[{"<<", 
             RowBox[{"(", "outfile", ")"}]}], ")"}]}], ";", 
          "\[IndentingNewLine]", 
          RowBox[{"Ns", "=", 
           RowBox[{"Length", "[", 
            RowBox[{
            "mytemppoints", "\[LeftDoubleBracket]", "1", 
             "\[RightDoubleBracket]"}], "]"}]}], ";", "\[IndentingNewLine]", 
          RowBox[{"If", "[", 
           RowBox[{
            RowBox[{"Ns", "\[LessEqual]", "Nimg"}], ",", 
            "\[IndentingNewLine]", 
            RowBox[{
             RowBox[{
              RowBox[{"mysavepoints", "\[LeftDoubleBracket]", 
               RowBox[{
                RowBox[{"1", ";;", "All"}], ",", 
                RowBox[{"1", ";;", "Ns"}]}], "\[RightDoubleBracket]"}], "=", 
              RowBox[{"mytemppoints", "\[LeftDoubleBracket]", 
               RowBox[{
                RowBox[{"1", ";;", "All"}], ",", 
                RowBox[{"1", ";;", "Ns"}]}], "\[RightDoubleBracket]"}]}], 
             ";"}], ",", 
            RowBox[{
             RowBox[{
              RowBox[{"mysavepoints", "\[LeftDoubleBracket]", 
               RowBox[{
                RowBox[{"1", ";;", "All"}], ",", 
                RowBox[{"1", ";;", "Nimg"}]}], "\[RightDoubleBracket]"}], "=", 
              RowBox[{"mytemppoints", "\[LeftDoubleBracket]", 
               RowBox[{
                RowBox[{"1", ";;", "All"}], ",", 
                RowBox[{"1", ";;", "Nimg"}]}], "\[RightDoubleBracket]"}]}], 
             ";"}]}], "\[IndentingNewLine]", "]"}], ";", 
          "\[IndentingNewLine]", 
          RowBox[{"Clear", "[", "mytemppoints", "]"}], ";"}]}], 
        "\[IndentingNewLine]", "]"}], ";", "\[IndentingNewLine]", 
       "\[IndentingNewLine]", 
       RowBox[{"(*", 
        RowBox[{
         RowBox[{
          RowBox[{
           RowBox[{
            RowBox[{
             RowBox[{
              RowBox[{
               RowBox[{
                RowBox[{
                 RowBox[{"CONTROLS", "..."}], "..."}], "..."}], "..."}], 
              "..."}], "..."}], "..."}], "..."}], "..."}], "."}], "*)"}], 
       "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{"Column", "[", 
         RowBox[{"{", "\[IndentingNewLine]", 
          RowBox[{
           RowBox[{"Row", "[", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"\"\<ROI:\>\"", " ", 
               RowBox[{"PopupMenu", "[", 
                RowBox[{
                 RowBox[{"Dynamic", "[", "y", "]"}], ",", 
                 RowBox[{"Join", "[", 
                  RowBox[{
                   RowBox[{"{", 
                    RowBox[{
                    RowBox[{"1", "\[Rule]", "\"\<Background\>\""}], ",", 
                    RowBox[{"2", "\[Rule]", "\"\<Cytoplasm\>\""}], ",", 
                    RowBox[{"3", "\[Rule]", "\"\<Nucleus\>\""}], ",", 
                    RowBox[{"4", "\[Rule]", "\"\<Nucleoli\>\""}], ",", 
                    RowBox[{"5", "\[Rule]", "\"\<Array\>\""}], ",", 
                    RowBox[{"6", "\[Rule]", "\"\<ROI6\>\""}]}], "}"}], ",", 
                   RowBox[{"Table", "[", 
                    RowBox[{
                    RowBox[{"i", "\[Rule]", 
                    RowBox[{"\"\<ROI\>\"", "<>", 
                    RowBox[{"ToString", "[", "i", "]"}]}]}], ",", 
                    RowBox[{"{", 
                    RowBox[{"i", ",", "7", ",", "roin", ",", "1"}], "}"}]}], 
                    "]"}]}], "]"}]}], "]"}]}], ",", "\[IndentingNewLine]", 
              RowBox[{"\"\<  Type:\>\"", " ", 
               RowBox[{"PopupMenu", "[", 
                RowBox[{
                 RowBox[{"Dynamic", "[", "roit", "]"}], ",", 
                 RowBox[{"{", 
                  RowBox[{
                   RowBox[{"1", "\[Rule]", "\"\<Polygon\>\""}], ",", 
                   RowBox[{"2", "\[Rule]", "\"\<Rectangle\>\""}], ",", 
                   RowBox[{"3", "\[Rule]", "\"\<Circle\>\""}]}], "}"}]}], 
                "]"}]}], ",", 
              RowBox[{"Spacer", "[", "10", "]"}], ",", "\[IndentingNewLine]", 
              RowBox[{"Button", "[", 
               RowBox[{
               "\"\<EXPORT ROI CALC FILE\>\"", ",", "\[IndentingNewLine]", 
                RowBox[{"If", "[", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"FileNames", "[", "outfile", "]"}], "\[Equal]", 
                   RowBox[{"{", "}"}]}], ",", "\[IndentingNewLine]", 
                  RowBox[{
                   RowBox[{"mysavepoints", ">>", 
                    RowBox[{"(", "outfile", ")"}]}], ";", " ", 
                   RowBox[{"myflag", "=", 
                    RowBox[{"outfile", "<>", "\"\<  File saved.\>\""}]}]}], 
                  ",", 
                  RowBox[{
                  "myflag", "=", "\"\<   ROIs file already exists.\>\""}]}], 
                 "\[IndentingNewLine]", "]"}]}], "]"}], ",", 
              "\[IndentingNewLine]", 
              RowBox[{"Button", "[", 
               RowBox[{
               "\"\<DELETE ROI CALC FILE\>\"", ",", "\[IndentingNewLine]", 
                RowBox[{"If", "[", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"FileNames", "[", "outfile", "]"}], "\[NotEqual]", 
                   RowBox[{"{", "}"}]}], ",", "\[IndentingNewLine]", 
                  RowBox[{
                   RowBox[{"DeleteFile", "[", "outfile", "]"}], ";", 
                   RowBox[{"myflag", "=", "\"\<  File deleted.\>\""}]}], ",", 
                  RowBox[{
                   RowBox[{"myflag", "=", "\"\<   No ROIs file found.\>\""}], 
                   ";"}]}], "\[IndentingNewLine]", "]"}]}], "]"}], ",", 
              "\[IndentingNewLine]", 
              RowBox[{"Button", "[", 
               RowBox[{
               "\"\<CALCULATE AUTO ROI\>\"", ",", "\[IndentingNewLine]", 
                RowBox[{
                 RowBox[{"mymaska", "=", 
                  RowBox[{"Binarize", "@", 
                   RowBox[{"Image", "[", 
                    RowBox[{
                    RowBox[{"Graphics", "[", 
                    RowBox[{
                    RowBox[{"{", 
                    RowBox[{"White", ",", "myshape"}], "}"}], ",", 
                    RowBox[{"Background", "\[Rule]", "Black"}], ",", 
                    RowBox[{"ImageSize", "\[Rule]", 
                    RowBox[{"{", 
                    RowBox[{"w", ",", "h"}], "}"}]}], ",", 
                    RowBox[{"PlotRange", "\[Rule]", 
                    RowBox[{"{", 
                    RowBox[{
                    RowBox[{"{", 
                    RowBox[{"0", ",", "w"}], "}"}], ",", 
                    RowBox[{"{", 
                    RowBox[{"0", ",", "h"}], "}"}]}], "}"}]}]}], "]"}], ",", 
                    RowBox[{"ColorSpace", "\[Rule]", "\"\<Grayscale\>\""}]}], 
                    "]"}]}]}], ";", "\[IndentingNewLine]", 
                 RowBox[{"mynewmask", "=", "mymaska"}], ";", 
                 "\[IndentingNewLine]", 
                 RowBox[{"mymaskb", "=", 
                  RowBox[{"Binarize", "[", 
                   RowBox[{
                    RowBox[{"ImageMultiply", "[", 
                    RowBox[{"mymaska", ",", 
                    RowBox[{
                    RowBox[{
                    RowBox[{"ColorSeparate", "[", 
                    RowBox[{
                    "allimg", "\[LeftDoubleBracket]", "myt", 
                    "\[RightDoubleBracket]"}], "]"}], "\[LeftDoubleBracket]", 
                    "tholdch", "\[RightDoubleBracket]"}], "//", 
                    "ImageAdjust"}]}], "]"}], ",", "thold"}], "]"}]}], ";", 
                 "\[IndentingNewLine]", 
                 RowBox[{"myCentroid", "=", 
                  RowBox[{
                   RowBox[{
                    RowBox[{"Round", "[", 
                    RowBox[{"#", ",", "1"}], "]"}], "&"}], "/@", 
                   RowBox[{"(", 
                    RowBox[{
                    RowBox[{"Position", "[", 
                    RowBox[{
                    RowBox[{"mymaskb", "//", "ImageData"}], ",", "1"}], "]"}],
                     "//", "Mean"}], ")"}]}]}], ";", "\[IndentingNewLine]", 
                 RowBox[{"roit", "=", "3"}], ";", "\[IndentingNewLine]", 
                 RowBox[{"mymaskc", "=", 
                  RowBox[{"Binarize", "@", 
                   RowBox[{"Image", "[", 
                    RowBox[{
                    RowBox[{"Graphics", "[", 
                    RowBox[{
                    RowBox[{"{", 
                    RowBox[{"White", ",", 
                    RowBox[{"Disk", "[", 
                    RowBox[{
                    RowBox[{"{", 
                    RowBox[{
                    RowBox[{
                    "myCentroid", "\[LeftDoubleBracket]", "2", 
                    "\[RightDoubleBracket]"}], ",", 
                    RowBox[{"h", "-", 
                    RowBox[{
                    "myCentroid", "\[LeftDoubleBracket]", "1", 
                    "\[RightDoubleBracket]"}], "+", "1"}]}], "}"}], ",", 
                    "tholdsize"}], "]"}]}], "}"}], ",", 
                    RowBox[{"Background", "\[Rule]", "Black"}], ",", 
                    RowBox[{"ImageSize", "\[Rule]", 
                    RowBox[{"{", 
                    RowBox[{"w", ",", "h"}], "}"}]}], ",", 
                    RowBox[{"PlotRange", "\[Rule]", 
                    RowBox[{"{", 
                    RowBox[{
                    RowBox[{"{", 
                    RowBox[{"0", ",", "w"}], "}"}], ",", 
                    RowBox[{"{", 
                    RowBox[{"0", ",", "h"}], "}"}]}], "}"}]}]}], "]"}], ",", 
                    RowBox[{"ColorSpace", "\[Rule]", "\"\<Grayscale\>\""}]}], 
                    "]"}]}]}], ";", "\[IndentingNewLine]", 
                 RowBox[{"mymask", "=", 
                  RowBox[{"ImageSubtract", "[", 
                   RowBox[{"mymaskc", ",", "mymaskb"}], "]"}]}], ";", 
                 "\[IndentingNewLine]", 
                 RowBox[{
                  RowBox[{"mycurpoints", "\[LeftDoubleBracket]", 
                   RowBox[{"y", ",", "1"}], "\[RightDoubleBracket]"}], "=", 
                  RowBox[{"{", 
                   RowBox[{
                    RowBox[{"{", 
                    RowBox[{
                    RowBox[{
                    "myCentroid", "\[LeftDoubleBracket]", "2", 
                    "\[RightDoubleBracket]"}], ",", 
                    RowBox[{"h", "-", 
                    RowBox[{
                    "myCentroid", "\[LeftDoubleBracket]", "1", 
                    "\[RightDoubleBracket]"}], "+", "1"}]}], "}"}], ",", 
                    RowBox[{
                    RowBox[{"{", 
                    RowBox[{
                    RowBox[{
                    "myCentroid", "\[LeftDoubleBracket]", "2", 
                    "\[RightDoubleBracket]"}], ",", 
                    RowBox[{"h", "-", 
                    RowBox[{
                    "myCentroid", "\[LeftDoubleBracket]", "1", 
                    "\[RightDoubleBracket]"}], "+", "1"}]}], "}"}], "+", 
                    RowBox[{"{", 
                    RowBox[{"tholdsize", ",", "0"}], "}"}]}]}], "}"}]}], ";", 
                 "\[IndentingNewLine]", 
                 RowBox[{
                  RowBox[{"mycurpoints", "\[LeftDoubleBracket]", 
                   RowBox[{"y", ",", "2"}], "\[RightDoubleBracket]"}], "=", 
                  RowBox[{
                   RowBox[{"Count", "[", 
                    RowBox[{
                    RowBox[{
                    RowBox[{
                    RowBox[{"mymaskc", "//", "ImageData"}], "//", "Chop"}], "//",
                     "Flatten"}], ",", 
                    RowBox[{"x_", "/;", 
                    RowBox[{"x", "\[NotEqual]", " ", "0."}]}]}], "]"}], "//", 
                   "N"}]}], ";", "\[IndentingNewLine]", 
                 RowBox[{
                  RowBox[{"mysavepoints", "\[LeftDoubleBracket]", 
                   RowBox[{"y", ",", "myt", ",", 
                    RowBox[{"1", ";;", "2"}]}], "\[RightDoubleBracket]"}], 
                  "=", 
                  RowBox[{"mycurpoints", "\[LeftDoubleBracket]", 
                   RowBox[{"y", ",", 
                    RowBox[{"1", ";;", "2"}]}], "\[RightDoubleBracket]"}]}], 
                 ";", "\[IndentingNewLine]", 
                 RowBox[{
                  RowBox[{"mysavepoints", "\[LeftDoubleBracket]", 
                   RowBox[{"y", ",", "myt", ",", "3"}], 
                   "\[RightDoubleBracket]"}], "=", 
                  RowBox[{
                   RowBox[{"Plus", "@@", 
                    RowBox[{"(", 
                    RowBox[{
                    RowBox[{"ImageData", "[", 
                    RowBox[{
                    RowBox[{"ImageMultiply", "[", 
                    RowBox[{"mymaskc", ",", 
                    RowBox[{
                    "allimg", "\[LeftDoubleBracket]", "myt", 
                    "\[RightDoubleBracket]"}]}], "]"}], ",", "bd"}], "]"}], "//", 
                    RowBox[{
                    RowBox[{"Flatten", "[", 
                    RowBox[{"#", ",", "1"}], "]"}], "&"}]}], ")"}]}], "/", 
                   RowBox[{"If", "[", 
                    RowBox[{
                    RowBox[{
                    RowBox[{"mycurpoints", "\[LeftDoubleBracket]", 
                    RowBox[{"y", ",", "2"}], "\[RightDoubleBracket]"}], 
                    "\[Equal]", "0"}], ",", "100000000.", ",", 
                    RowBox[{"mycurpoints", "\[LeftDoubleBracket]", 
                    RowBox[{"y", ",", "2"}], "\[RightDoubleBracket]"}]}], 
                    "]"}]}]}], ";", "\[IndentingNewLine]", 
                 RowBox[{
                  RowBox[{"mysavepoints", "\[LeftDoubleBracket]", 
                   RowBox[{"y", ",", "myt", ",", "4"}], 
                   "\[RightDoubleBracket]"}], "=", "3"}], ";"}]}], 
               "\[IndentingNewLine]", "]"}], ",", "\[IndentingNewLine]", 
              "\"\< Threshhold: \>\"", ",", 
              RowBox[{"InputField", "[", 
               RowBox[{
                RowBox[{"Dynamic", "[", "thold", "]"}], ",", 
                RowBox[{"FieldSize", "\[Rule]", "3"}]}], "]"}], ",", 
              RowBox[{"\"\<  Channel:\>\"", " ", 
               RowBox[{"PopupMenu", "[", 
                RowBox[{
                 RowBox[{"Dynamic", "[", "tholdch", "]"}], ",", 
                 RowBox[{"{", 
                  RowBox[{
                   RowBox[{"1", "\[Rule]", "\"\<1, red\>\""}], ",", 
                   RowBox[{"2", "\[Rule]", "\"\<2, green\>\""}], ",", 
                   RowBox[{"3", "\[Rule]", "\"\<3, blue\>\""}]}], "}"}]}], 
                "]"}]}], ",", "\"\<  ROI Size: \>\"", ",", 
              RowBox[{"InputField", "[", 
               RowBox[{
                RowBox[{"Dynamic", "[", "tholdsize", "]"}], ",", 
                RowBox[{"FieldSize", "\[Rule]", "3"}]}], "]"}], ",", 
              "\[IndentingNewLine]", 
              RowBox[{"Button", "[", 
               RowBox[{
               "\"\<CACULATE AUTO ROI FORWARD\>\"", ",", 
                "\[IndentingNewLine]", 
                RowBox[{
                 RowBox[{"mymaska", "=", 
                  RowBox[{"Binarize", "@", 
                   RowBox[{"Image", "[", 
                    RowBox[{
                    RowBox[{"Graphics", "[", 
                    RowBox[{
                    RowBox[{"{", 
                    RowBox[{"White", ",", "myshape"}], "}"}], ",", 
                    RowBox[{"Background", "\[Rule]", "Black"}], ",", 
                    RowBox[{"ImageSize", "\[Rule]", 
                    RowBox[{"{", 
                    RowBox[{"w", ",", "h"}], "}"}]}], ",", 
                    RowBox[{"PlotRange", "\[Rule]", 
                    RowBox[{"{", 
                    RowBox[{
                    RowBox[{"{", 
                    RowBox[{"0", ",", "w"}], "}"}], ",", 
                    RowBox[{"{", 
                    RowBox[{"0", ",", "h"}], "}"}]}], "}"}]}]}], "]"}], ",", 
                    RowBox[{"ColorSpace", "\[Rule]", "\"\<Grayscale\>\""}]}], 
                    "]"}]}]}], ";", "\[IndentingNewLine]", 
                 RowBox[{"Table", "[", "\[IndentingNewLine]", 
                  RowBox[{
                   RowBox[{
                    RowBox[{"mymaskb", "=", 
                    RowBox[{"Binarize", "[", 
                    RowBox[{
                    RowBox[{"ImageMultiply", "[", 
                    RowBox[{"mymaska", ",", 
                    RowBox[{
                    RowBox[{
                    RowBox[{"ColorSeparate", "[", 
                    RowBox[{
                    "allimg", "\[LeftDoubleBracket]", "tt", 
                    "\[RightDoubleBracket]"}], "]"}], "\[LeftDoubleBracket]", 
                    "tholdch", "\[RightDoubleBracket]"}], "//", 
                    "ImageAdjust"}]}], "]"}], ",", "thold"}], "]"}]}], ";", 
                    "\[IndentingNewLine]", 
                    RowBox[{"myCentroid", "=", 
                    RowBox[{
                    RowBox[{
                    RowBox[{"Round", "[", 
                    RowBox[{"#", ",", "1"}], "]"}], "&"}], "/@", 
                    RowBox[{"(", 
                    RowBox[{
                    RowBox[{"Position", "[", 
                    RowBox[{
                    RowBox[{"mymaskb", "//", "ImageData"}], ",", "1"}], "]"}],
                     "//", "Mean"}], ")"}]}]}], ";", "\[IndentingNewLine]", 
                    RowBox[{"roit", "=", "3"}], ";", "\[IndentingNewLine]", 
                    RowBox[{"mymaskc", "=", 
                    RowBox[{"Binarize", "@", 
                    RowBox[{"Image", "[", 
                    RowBox[{
                    RowBox[{"Graphics", "[", 
                    RowBox[{
                    RowBox[{"{", 
                    RowBox[{"White", ",", 
                    RowBox[{"Disk", "[", 
                    RowBox[{
                    RowBox[{"{", 
                    RowBox[{
                    RowBox[{
                    "myCentroid", "\[LeftDoubleBracket]", "2", 
                    "\[RightDoubleBracket]"}], ",", 
                    RowBox[{"h", "-", 
                    RowBox[{
                    "myCentroid", "\[LeftDoubleBracket]", "1", 
                    "\[RightDoubleBracket]"}], "+", "1"}]}], "}"}], ",", 
                    "tholdsize"}], "]"}]}], "}"}], ",", 
                    RowBox[{"Background", "\[Rule]", "Black"}], ",", 
                    RowBox[{"ImageSize", "\[Rule]", 
                    RowBox[{"{", 
                    RowBox[{"w", ",", "h"}], "}"}]}], ",", 
                    RowBox[{"PlotRange", "\[Rule]", 
                    RowBox[{"{", 
                    RowBox[{
                    RowBox[{"{", 
                    RowBox[{"0", ",", "w"}], "}"}], ",", 
                    RowBox[{"{", 
                    RowBox[{"0", ",", "h"}], "}"}]}], "}"}]}]}], "]"}], ",", 
                    RowBox[{"ColorSpace", "\[Rule]", "\"\<Grayscale\>\""}]}], 
                    "]"}]}]}], ";", "\[IndentingNewLine]", 
                    RowBox[{"mymask", "=", 
                    RowBox[{"ImageSubtract", "[", 
                    RowBox[{"mymaskc", ",", "mymaskb"}], "]"}]}], ";", 
                    "\[IndentingNewLine]", 
                    RowBox[{
                    RowBox[{"mycurpoints", "\[LeftDoubleBracket]", 
                    RowBox[{"y", ",", "1"}], "\[RightDoubleBracket]"}], "=", 
                    RowBox[{"{", 
                    RowBox[{
                    RowBox[{"{", 
                    RowBox[{
                    RowBox[{
                    "myCentroid", "\[LeftDoubleBracket]", "2", 
                    "\[RightDoubleBracket]"}], ",", 
                    RowBox[{"h", "-", 
                    RowBox[{
                    "myCentroid", "\[LeftDoubleBracket]", "1", 
                    "\[RightDoubleBracket]"}], "+", "1"}]}], "}"}], ",", 
                    RowBox[{
                    RowBox[{"{", 
                    RowBox[{
                    RowBox[{
                    "myCentroid", "\[LeftDoubleBracket]", "2", 
                    "\[RightDoubleBracket]"}], ",", 
                    RowBox[{"h", "-", 
                    RowBox[{
                    "myCentroid", "\[LeftDoubleBracket]", "1", 
                    "\[RightDoubleBracket]"}], "+", "1"}]}], "}"}], "+", 
                    RowBox[{"{", 
                    RowBox[{"tholdsize", ",", "0"}], "}"}]}]}], "}"}]}], ";", 
                    "\[IndentingNewLine]", 
                    RowBox[{
                    RowBox[{"mycurpoints", "\[LeftDoubleBracket]", 
                    RowBox[{"y", ",", "2"}], "\[RightDoubleBracket]"}], "=", 
                    RowBox[{
                    RowBox[{"Count", "[", 
                    RowBox[{
                    RowBox[{
                    RowBox[{
                    RowBox[{"mymaskc", "//", "ImageData"}], "//", "Chop"}], "//",
                     "Flatten"}], ",", 
                    RowBox[{"x_", "/;", 
                    RowBox[{"x", "\[NotEqual]", " ", "0."}]}]}], "]"}], "//", 
                    "N"}]}], ";", "\[IndentingNewLine]", 
                    RowBox[{
                    RowBox[{"mysavepoints", "\[LeftDoubleBracket]", 
                    RowBox[{"y", ",", "tt", ",", 
                    RowBox[{"1", ";;", "2"}]}], "\[RightDoubleBracket]"}], 
                    "=", 
                    RowBox[{"mycurpoints", "\[LeftDoubleBracket]", 
                    RowBox[{"y", ",", 
                    RowBox[{"1", ";;", "2"}]}], "\[RightDoubleBracket]"}]}], 
                    ";", "\[IndentingNewLine]", 
                    RowBox[{
                    RowBox[{"mysavepoints", "\[LeftDoubleBracket]", 
                    RowBox[{"y", ",", "tt", ",", "3"}], 
                    "\[RightDoubleBracket]"}], "=", 
                    RowBox[{
                    RowBox[{"Plus", "@@", 
                    RowBox[{"(", 
                    RowBox[{
                    RowBox[{"ImageData", "[", 
                    RowBox[{
                    RowBox[{"ImageMultiply", "[", 
                    RowBox[{"mymaskc", ",", 
                    RowBox[{
                    "allimg", "\[LeftDoubleBracket]", "tt", 
                    "\[RightDoubleBracket]"}]}], "]"}], ",", "bd"}], "]"}], "//", 
                    RowBox[{
                    RowBox[{"Flatten", "[", 
                    RowBox[{"#", ",", "1"}], "]"}], "&"}]}], ")"}]}], "/", 
                    RowBox[{"If", "[", 
                    RowBox[{
                    RowBox[{
                    RowBox[{"mycurpoints", "\[LeftDoubleBracket]", 
                    RowBox[{"y", ",", "2"}], "\[RightDoubleBracket]"}], 
                    "\[Equal]", "0"}], ",", "100000000.", ",", 
                    RowBox[{"mycurpoints", "\[LeftDoubleBracket]", 
                    RowBox[{"y", ",", "2"}], "\[RightDoubleBracket]"}]}], 
                    "]"}]}]}], ";", "\[IndentingNewLine]", 
                    RowBox[{
                    RowBox[{"mysavepoints", "\[LeftDoubleBracket]", 
                    RowBox[{"y", ",", "tt", ",", "4"}], 
                    "\[RightDoubleBracket]"}], "=", "roit"}], ";"}], 
                   "\[IndentingNewLine]", ",", 
                   RowBox[{"{", 
                    RowBox[{"tt", ",", "myt", ",", "Nimg", ",", "1"}], 
                    "}"}]}], "]"}], ";"}]}], "\[IndentingNewLine]", "]"}], 
              ",", "\[IndentingNewLine]", 
              RowBox[{"Dynamic", "[", "myflag", "]"}], ",", 
              RowBox[{"Dynamic", "[", "myflag2", "]"}], ","}], 
             "\[IndentingNewLine]", "}"}], "]"}], ",", "\[IndentingNewLine]", 
           RowBox[{"Row", "[", 
            RowBox[{"{", "\[IndentingNewLine]", 
             RowBox[{
              RowBox[{"Button", "[", 
               RowBox[{
               "\"\<CALCULATE ROI BACK\>\"", ",", "\[IndentingNewLine]", 
                RowBox[{
                 RowBox[{"mymask", "=", 
                  RowBox[{"Binarize", "@", 
                   RowBox[{"Image", "[", 
                    RowBox[{
                    RowBox[{"Graphics", "[", 
                    RowBox[{
                    RowBox[{"{", 
                    RowBox[{"White", ",", "myshape"}], "}"}], ",", 
                    RowBox[{"Background", "\[Rule]", "Black"}], ",", 
                    RowBox[{"ImageSize", "\[Rule]", 
                    RowBox[{"{", 
                    RowBox[{"w", ",", "h"}], "}"}]}], ",", 
                    RowBox[{"PlotRange", "\[Rule]", 
                    RowBox[{"{", 
                    RowBox[{
                    RowBox[{"{", 
                    RowBox[{"0", ",", "w"}], "}"}], ",", 
                    RowBox[{"{", 
                    RowBox[{"0", ",", "h"}], "}"}]}], "}"}]}]}], "]"}], ",", 
                    RowBox[{"ColorSpace", "\[Rule]", "\"\<Grayscale\>\""}]}], 
                    "]"}]}]}], ";", "\[IndentingNewLine]", 
                 RowBox[{
                  RowBox[{"mycurpoints", "\[LeftDoubleBracket]", 
                   RowBox[{"y", ",", "2"}], "\[RightDoubleBracket]"}], "=", 
                  RowBox[{
                   RowBox[{"Count", "[", 
                    RowBox[{
                    RowBox[{
                    RowBox[{"mymask", "//", "ImageData"}], "//", "Flatten"}], 
                    ",", 
                    RowBox[{"x_", "/;", 
                    RowBox[{"x", "\[NotEqual]", "0"}]}]}], "]"}], "//", 
                   "N"}]}], ";", "\[IndentingNewLine]", 
                 RowBox[{"Table", "[", 
                  RowBox[{
                   RowBox[{
                    RowBox[{
                    RowBox[{"mysavepoints", "\[LeftDoubleBracket]", 
                    RowBox[{"y", ",", "tt", ",", 
                    RowBox[{"1", ";;", "2"}]}], "\[RightDoubleBracket]"}], 
                    "=", 
                    RowBox[{"mycurpoints", "\[LeftDoubleBracket]", 
                    RowBox[{"y", ",", 
                    RowBox[{"1", ";;", "2"}]}], "\[RightDoubleBracket]"}]}], 
                    ";", "\[IndentingNewLine]", 
                    RowBox[{
                    RowBox[{"mysavepoints", "\[LeftDoubleBracket]", 
                    RowBox[{"y", ",", "tt", ",", "3"}], 
                    "\[RightDoubleBracket]"}], "=", 
                    RowBox[{
                    RowBox[{"Plus", "@@", 
                    RowBox[{"(", 
                    RowBox[{
                    RowBox[{"ImageData", "[", 
                    RowBox[{
                    RowBox[{"ImageMultiply", "[", 
                    RowBox[{"mymask", ",", 
                    RowBox[{
                    "allimg", "\[LeftDoubleBracket]", "tt", 
                    "\[RightDoubleBracket]"}]}], "]"}], ",", "bd"}], "]"}], "//", 
                    RowBox[{
                    RowBox[{"Flatten", "[", 
                    RowBox[{"#", ",", "1"}], "]"}], "&"}]}], ")"}]}], "/", 
                    RowBox[{"If", "[", 
                    RowBox[{
                    RowBox[{
                    RowBox[{"mycurpoints", "\[LeftDoubleBracket]", 
                    RowBox[{"y", ",", "2"}], "\[RightDoubleBracket]"}], 
                    "\[Equal]", "0"}], ",", "100000000.", ",", 
                    RowBox[{"mycurpoints", "\[LeftDoubleBracket]", 
                    RowBox[{"y", ",", "2"}], "\[RightDoubleBracket]"}]}], 
                    "]"}]}]}], ";", "\[IndentingNewLine]", 
                    RowBox[{
                    RowBox[{"mysavepoints", "\[LeftDoubleBracket]", 
                    RowBox[{"y", ",", "tt", ",", "4"}], 
                    "\[RightDoubleBracket]"}], "=", "roit"}], ";"}], 
                   "\[IndentingNewLine]", ",", 
                   RowBox[{"{", 
                    RowBox[{"tt", ",", "myt", ",", "1", ",", 
                    RowBox[{"-", "1"}]}], "}"}]}], "]"}], ";"}]}], 
               "\[IndentingNewLine]", "]"}], ",", "\[IndentingNewLine]", 
              RowBox[{"Button", "[", 
               RowBox[{"\"\<CALCULATE ROI\>\"", ",", "\[IndentingNewLine]", 
                RowBox[{
                 RowBox[{"mymask", "=", 
                  RowBox[{"Binarize", "@", 
                   RowBox[{"Image", "[", 
                    RowBox[{
                    RowBox[{"Graphics", "[", 
                    RowBox[{
                    RowBox[{"{", 
                    RowBox[{"White", ",", "myshape"}], "}"}], ",", 
                    RowBox[{"Background", "\[Rule]", "Black"}], ",", 
                    RowBox[{"ImageSize", "\[Rule]", 
                    RowBox[{"{", 
                    RowBox[{"w", ",", "h"}], "}"}]}], ",", 
                    RowBox[{"PlotRange", "\[Rule]", 
                    RowBox[{"{", 
                    RowBox[{
                    RowBox[{"{", 
                    RowBox[{"0", ",", "w"}], "}"}], ",", 
                    RowBox[{"{", 
                    RowBox[{"0", ",", "h"}], "}"}]}], "}"}]}]}], "]"}], ",", 
                    RowBox[{"ColorSpace", "\[Rule]", "\"\<Grayscale\>\""}]}], 
                    "]"}]}]}], ";", "\[IndentingNewLine]", 
                 RowBox[{
                  RowBox[{"mycurpoints", "\[LeftDoubleBracket]", 
                   RowBox[{"y", ",", "2"}], "\[RightDoubleBracket]"}], "=", 
                  RowBox[{
                   RowBox[{"Count", "[", 
                    RowBox[{
                    RowBox[{
                    RowBox[{"mymask", "//", "ImageData"}], "//", "Flatten"}], 
                    ",", 
                    RowBox[{"x_", "/;", 
                    RowBox[{"x", "\[NotEqual]", "0"}]}]}], "]"}], "//", 
                   "N"}]}], ";", "\[IndentingNewLine]", 
                 RowBox[{
                  RowBox[{"mysavepoints", "\[LeftDoubleBracket]", 
                   RowBox[{"y", ",", "myt", ",", 
                    RowBox[{"1", ";;", "2"}]}], "\[RightDoubleBracket]"}], 
                  "=", 
                  RowBox[{"mycurpoints", "\[LeftDoubleBracket]", 
                   RowBox[{"y", ",", 
                    RowBox[{"1", ";;", "2"}]}], "\[RightDoubleBracket]"}]}], 
                 ";", "\[IndentingNewLine]", 
                 RowBox[{
                  RowBox[{"mysavepoints", "\[LeftDoubleBracket]", 
                   RowBox[{"y", ",", "myt", ",", "3"}], 
                   "\[RightDoubleBracket]"}], "=", 
                  RowBox[{
                   RowBox[{"Plus", "@@", 
                    RowBox[{"(", 
                    RowBox[{
                    RowBox[{"ImageData", "[", 
                    RowBox[{
                    RowBox[{"ImageMultiply", "[", 
                    RowBox[{"mymask", ",", 
                    RowBox[{
                    "allimg", "\[LeftDoubleBracket]", "myt", 
                    "\[RightDoubleBracket]"}]}], "]"}], ",", "bd"}], "]"}], "//", 
                    RowBox[{
                    RowBox[{"Flatten", "[", 
                    RowBox[{"#", ",", "1"}], "]"}], "&"}]}], ")"}]}], "/", 
                   RowBox[{"If", "[", 
                    RowBox[{
                    RowBox[{
                    RowBox[{"mycurpoints", "\[LeftDoubleBracket]", 
                    RowBox[{"y", ",", "2"}], "\[RightDoubleBracket]"}], 
                    "\[Equal]", "0"}], ",", "100000000.", ",", 
                    RowBox[{"mycurpoints", "\[LeftDoubleBracket]", 
                    RowBox[{"y", ",", "2"}], "\[RightDoubleBracket]"}]}], 
                    "]"}]}]}], ";", "\[IndentingNewLine]", 
                 RowBox[{
                  RowBox[{"mysavepoints", "\[LeftDoubleBracket]", 
                   RowBox[{"y", ",", "myt", ",", "4"}], 
                   "\[RightDoubleBracket]"}], "=", "roit"}], ";"}]}], 
               "\[IndentingNewLine]", "]"}], ",", "\[IndentingNewLine]", 
              RowBox[{"Button", "[", 
               RowBox[{
               "\"\<CALCULATE ROI FORWARD\>\"", ",", "\[IndentingNewLine]", 
                RowBox[{
                 RowBox[{"mymask", "=", 
                  RowBox[{"Binarize", "@", 
                   RowBox[{"Image", "[", 
                    RowBox[{
                    RowBox[{"Graphics", "[", 
                    RowBox[{
                    RowBox[{"{", 
                    RowBox[{"White", ",", "myshape"}], "}"}], ",", 
                    RowBox[{"Background", "\[Rule]", "Black"}], ",", 
                    RowBox[{"ImageSize", "\[Rule]", 
                    RowBox[{"{", 
                    RowBox[{"w", ",", "h"}], "}"}]}], ",", 
                    RowBox[{"PlotRange", "\[Rule]", 
                    RowBox[{"{", 
                    RowBox[{
                    RowBox[{"{", 
                    RowBox[{"0", ",", "w"}], "}"}], ",", 
                    RowBox[{"{", 
                    RowBox[{"0", ",", "h"}], "}"}]}], "}"}]}]}], "]"}], ",", 
                    RowBox[{"ColorSpace", "\[Rule]", "\"\<Grayscale\>\""}]}], 
                    "]"}]}]}], ";", "\[IndentingNewLine]", 
                 RowBox[{
                  RowBox[{"mycurpoints", "\[LeftDoubleBracket]", 
                   RowBox[{"y", ",", "2"}], "\[RightDoubleBracket]"}], "=", 
                  RowBox[{
                   RowBox[{"Count", "[", 
                    RowBox[{
                    RowBox[{
                    RowBox[{"mymask", "//", "ImageData"}], "//", "Flatten"}], 
                    ",", 
                    RowBox[{"x_", "/;", 
                    RowBox[{"x", "\[NotEqual]", "0"}]}]}], "]"}], "//", 
                   "N"}]}], ";", "\[IndentingNewLine]", 
                 RowBox[{"Table", "[", 
                  RowBox[{
                   RowBox[{
                    RowBox[{
                    RowBox[{"mysavepoints", "\[LeftDoubleBracket]", 
                    RowBox[{"y", ",", "tt", ",", 
                    RowBox[{"1", ";;", "2"}]}], "\[RightDoubleBracket]"}], 
                    "=", 
                    RowBox[{"mycurpoints", "\[LeftDoubleBracket]", 
                    RowBox[{"y", ",", 
                    RowBox[{"1", ";;", "2"}]}], "\[RightDoubleBracket]"}]}], 
                    ";", "\[IndentingNewLine]", 
                    RowBox[{
                    RowBox[{"mysavepoints", "\[LeftDoubleBracket]", 
                    RowBox[{"y", ",", "tt", ",", "3"}], 
                    "\[RightDoubleBracket]"}], "=", 
                    RowBox[{
                    RowBox[{"Plus", "@@", 
                    RowBox[{"(", 
                    RowBox[{
                    RowBox[{"ImageData", "[", 
                    RowBox[{
                    RowBox[{"ImageMultiply", "[", 
                    RowBox[{"mymask", ",", 
                    RowBox[{
                    "allimg", "\[LeftDoubleBracket]", "tt", 
                    "\[RightDoubleBracket]"}]}], "]"}], ",", "bd"}], "]"}], "//", 
                    RowBox[{
                    RowBox[{"Flatten", "[", 
                    RowBox[{"#", ",", "1"}], "]"}], "&"}]}], ")"}]}], "/", 
                    RowBox[{"If", "[", 
                    RowBox[{
                    RowBox[{
                    RowBox[{"mycurpoints", "\[LeftDoubleBracket]", 
                    RowBox[{"y", ",", "2"}], "\[RightDoubleBracket]"}], 
                    "\[Equal]", "0"}], ",", "100000000.", ",", 
                    RowBox[{"mycurpoints", "\[LeftDoubleBracket]", 
                    RowBox[{"y", ",", "2"}], "\[RightDoubleBracket]"}]}], 
                    "]"}]}]}], ";", "\[IndentingNewLine]", 
                    RowBox[{
                    RowBox[{"mysavepoints", "\[LeftDoubleBracket]", 
                    RowBox[{"y", ",", "tt", ",", "4"}], 
                    "\[RightDoubleBracket]"}], "=", "roit"}], ";"}], 
                   "\[IndentingNewLine]", ",", 
                   RowBox[{"{", 
                    RowBox[{"tt", ",", "myt", ",", "Nimg", ",", "1"}], 
                    "}"}]}], "]"}], ";"}]}], "\[IndentingNewLine]", "]"}], 
              ",", "\[IndentingNewLine]", 
              RowBox[{"Button", "[", 
               RowBox[{"\"\<CLEAR ROI\>\"", ",", 
                RowBox[{"Dynamic", "[", 
                 RowBox[{
                  RowBox[{
                  "mycurpoints", "\[LeftDoubleBracket]", "y", 
                   "\[RightDoubleBracket]"}], "=", 
                  RowBox[{"{", 
                   RowBox[{
                    RowBox[{"{", 
                    RowBox[{"{", 
                    RowBox[{"1", ",", "1"}], "}"}], "}"}], ",", "1", ",", 
                    "0"}], "}"}]}], "]"}]}], "]"}], ",", 
              "\[IndentingNewLine]", 
              RowBox[{"Button", "[", 
               RowBox[{"\"\<SHOW ROI\>\"", ",", "\[IndentingNewLine]", 
                RowBox[{"If", "[", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"FileNames", "[", "outfile", "]"}], "\[NotEqual]", 
                   RowBox[{"{", "}"}]}], ",", "\[IndentingNewLine]", 
                  RowBox[{
                   RowBox[{"mytemppoints", "=", 
                    RowBox[{"(", 
                    RowBox[{"<<", 
                    RowBox[{"(", "outfile", ")"}]}], ")"}]}], ";", 
                   "\[IndentingNewLine]", 
                   RowBox[{"Ns", "=", 
                    RowBox[{"Length", "[", 
                    RowBox[{
                    "mytemppoints", "\[LeftDoubleBracket]", "1", 
                    "\[RightDoubleBracket]"}], "]"}]}], ";", 
                   "\[IndentingNewLine]", 
                   RowBox[{"If", "[", 
                    RowBox[{
                    RowBox[{"myt", "\[LessEqual]", "Ns"}], ",", 
                    "\[IndentingNewLine]", 
                    RowBox[{
                    RowBox[{
                    RowBox[{
                    "mycurpoints", "\[LeftDoubleBracket]", "y", 
                    "\[RightDoubleBracket]"}], "=", 
                    RowBox[{"mytemppoints", "\[LeftDoubleBracket]", 
                    RowBox[{"y", ",", "myt"}], "\[RightDoubleBracket]"}]}], 
                    ";", "\[IndentingNewLine]", 
                    RowBox[{"roit", "=", 
                    RowBox[{"mysavepoints", "\[LeftDoubleBracket]", 
                    RowBox[{"y", ",", "myt", ",", "4"}], 
                    "\[RightDoubleBracket]"}]}], ";", "\[IndentingNewLine]", 
                    RowBox[{"myflag", "=", "\"\<  Imported ROI.\>\""}]}], ",",
                     "\[IndentingNewLine]", 
                    RowBox[{
                    RowBox[{"myflag", "=", "\"\<  No ROI saved.\>\""}], 
                    ";"}]}], "\[IndentingNewLine]", "]"}], ";"}], ",", 
                  RowBox[{"myflag", "=", "\"\<  No ROI file found.\>\""}]}], 
                 "\[IndentingNewLine]", "]"}]}], "\[IndentingNewLine]", "]"}],
               ",", "\[IndentingNewLine]", 
              RowBox[{"Spacer", "[", "10", "]"}], ",", "\[IndentingNewLine]", 
              RowBox[{
               RowBox[{"{", 
                RowBox[{
                 RowBox[{"Button", "[", 
                  RowBox[{"\"\<<\>\"", ",", 
                   RowBox[{
                    RowBox[{"mycurpoints", "\[LeftDoubleBracket]", 
                    RowBox[{"y", ",", "1"}], "\[RightDoubleBracket]"}], "=", 
                    RowBox[{
                    RowBox[{
                    RowBox[{"(", 
                    RowBox[{"#", "-", 
                    RowBox[{"{", 
                    RowBox[{"1", ",", "0"}], "}"}]}], ")"}], "&"}], "/@", 
                    RowBox[{"mycurpoints", "\[LeftDoubleBracket]", 
                    RowBox[{"y", ",", "1"}], "\[RightDoubleBracket]"}]}]}], 
                   ",", 
                   RowBox[{"ImageSize", "\[Rule]", 
                    RowBox[{"{", 
                    RowBox[{"17", ",", "17"}], "}"}]}], ",", 
                   RowBox[{"BaselinePosition", "\[Rule]", "Center"}]}], "]"}],
                  ",", "\[IndentingNewLine]", 
                 RowBox[{"Column", "[", "\[IndentingNewLine]", 
                  RowBox[{
                   RowBox[{"{", "\[IndentingNewLine]", 
                    RowBox[{
                    RowBox[{"Button", "[", 
                    RowBox[{"\"\<^\>\"", ",", 
                    RowBox[{
                    RowBox[{"mycurpoints", "\[LeftDoubleBracket]", 
                    RowBox[{"y", ",", "1"}], "\[RightDoubleBracket]"}], "=", 
                    RowBox[{
                    RowBox[{
                    RowBox[{"(", 
                    RowBox[{"#", "+", 
                    RowBox[{"{", 
                    RowBox[{"0", ",", "1"}], "}"}]}], ")"}], "&"}], "/@", 
                    RowBox[{"mycurpoints", "\[LeftDoubleBracket]", 
                    RowBox[{"y", ",", "1"}], "\[RightDoubleBracket]"}]}]}], 
                    ",", 
                    RowBox[{"ImageSize", "\[Rule]", 
                    RowBox[{"{", 
                    RowBox[{"17", ",", "17"}], "}"}]}]}], "]"}], ",", 
                    "\[IndentingNewLine]", 
                    RowBox[{"Button", "[", 
                    RowBox[{"\"\<\[Vee]\>\"", ",", 
                    RowBox[{
                    RowBox[{"mycurpoints", "\[LeftDoubleBracket]", 
                    RowBox[{"y", ",", "1"}], "\[RightDoubleBracket]"}], "=", 
                    RowBox[{
                    RowBox[{
                    RowBox[{"(", 
                    RowBox[{"#", "-", 
                    RowBox[{"{", 
                    RowBox[{"0", ",", "1"}], "}"}]}], ")"}], "&"}], "/@", 
                    RowBox[{"mycurpoints", "\[LeftDoubleBracket]", 
                    RowBox[{"y", ",", "1"}], "\[RightDoubleBracket]"}]}]}], 
                    ",", 
                    RowBox[{"ImageSize", "\[Rule]", 
                    RowBox[{"{", 
                    RowBox[{"17", ",", "17"}], "}"}]}]}], "]"}]}], 
                    "\[IndentingNewLine]", "}"}], ",", "\[IndentingNewLine]", 
                   RowBox[{"BaselinePosition", "\[Rule]", "Center"}]}], "]"}],
                  ",", "\[IndentingNewLine]", 
                 RowBox[{"Button", "[", 
                  RowBox[{"\"\<>\>\"", ",", 
                   RowBox[{
                    RowBox[{"mycurpoints", "\[LeftDoubleBracket]", 
                    RowBox[{"y", ",", "1"}], "\[RightDoubleBracket]"}], "=", 
                    RowBox[{
                    RowBox[{
                    RowBox[{"(", 
                    RowBox[{"#", "+", 
                    RowBox[{"{", 
                    RowBox[{"1", ",", "0"}], "}"}]}], ")"}], "&"}], "/@", 
                    RowBox[{"mycurpoints", "\[LeftDoubleBracket]", 
                    RowBox[{"y", ",", "1"}], "\[RightDoubleBracket]"}]}]}], 
                   ",", 
                   RowBox[{"ImageSize", "\[Rule]", 
                    RowBox[{"{", 
                    RowBox[{"17", ",", "17"}], "}"}]}], ",", 
                   RowBox[{"BaselinePosition", "\[Rule]", "Center"}]}], 
                  "]"}]}], "}"}], "//", 
               RowBox[{
                RowBox[{"Row", "[", 
                 RowBox[{"#", ",", 
                  RowBox[{"BaselinePosition", "\[Rule]", "Bottom"}]}], "]"}], 
                "&"}]}], ",", "\[IndentingNewLine]", 
              RowBox[{"Spacer", "[", "10", "]"}], ",", "\[IndentingNewLine]", 
              RowBox[{
               RowBox[{"{", 
                RowBox[{
                 RowBox[{"Button", "[", 
                  RowBox[{"\"\<\[DoubleLeftArrow]\>\"", ",", 
                   RowBox[{
                    RowBox[{"mycurpoints", "\[LeftDoubleBracket]", 
                    RowBox[{"y", ",", "1"}], "\[RightDoubleBracket]"}], "=", 
                    RowBox[{
                    RowBox[{
                    RowBox[{"(", 
                    RowBox[{"#", "-", 
                    RowBox[{"{", 
                    RowBox[{"30", ",", "0"}], "}"}]}], ")"}], "&"}], "/@", 
                    RowBox[{"mycurpoints", "\[LeftDoubleBracket]", 
                    RowBox[{"y", ",", "1"}], "\[RightDoubleBracket]"}]}]}], 
                   ",", 
                   RowBox[{"ImageSize", "\[Rule]", 
                    RowBox[{"{", 
                    RowBox[{"17", ",", "17"}], "}"}]}], ",", 
                   RowBox[{"BaselinePosition", "\[Rule]", "Center"}]}], "]"}],
                  ",", "\[IndentingNewLine]", 
                 RowBox[{"Column", "[", "\[IndentingNewLine]", 
                  RowBox[{
                   RowBox[{"{", "\[IndentingNewLine]", 
                    RowBox[{
                    RowBox[{"Button", "[", 
                    RowBox[{"\"\<\[DoubleUpArrow]\>\"", ",", 
                    RowBox[{
                    RowBox[{"mycurpoints", "\[LeftDoubleBracket]", 
                    RowBox[{"y", ",", "1"}], "\[RightDoubleBracket]"}], "=", 
                    RowBox[{
                    RowBox[{
                    RowBox[{"(", 
                    RowBox[{"#", "+", 
                    RowBox[{"{", 
                    RowBox[{"0", ",", "30"}], "}"}]}], ")"}], "&"}], "/@", 
                    RowBox[{"mycurpoints", "\[LeftDoubleBracket]", 
                    RowBox[{"y", ",", "1"}], "\[RightDoubleBracket]"}]}]}], 
                    ",", 
                    RowBox[{"ImageSize", "\[Rule]", 
                    RowBox[{"{", 
                    RowBox[{"17", ",", "17"}], "}"}]}]}], "]"}], ",", 
                    "\[IndentingNewLine]", 
                    RowBox[{"Button", "[", 
                    RowBox[{"\"\<\[DoubleDownArrow]\>\"", ",", 
                    RowBox[{
                    RowBox[{"mycurpoints", "\[LeftDoubleBracket]", 
                    RowBox[{"y", ",", "1"}], "\[RightDoubleBracket]"}], "=", 
                    RowBox[{
                    RowBox[{
                    RowBox[{"(", 
                    RowBox[{"#", "-", 
                    RowBox[{"{", 
                    RowBox[{"0", ",", "30"}], "}"}]}], ")"}], "&"}], "/@", 
                    RowBox[{"mycurpoints", "\[LeftDoubleBracket]", 
                    RowBox[{"y", ",", "1"}], "\[RightDoubleBracket]"}]}]}], 
                    ",", 
                    RowBox[{"ImageSize", "\[Rule]", 
                    RowBox[{"{", 
                    RowBox[{"17", ",", "17"}], "}"}]}]}], "]"}]}], 
                    "\[IndentingNewLine]", "}"}], ",", "\[IndentingNewLine]", 
                   RowBox[{"BaselinePosition", "\[Rule]", "Center"}]}], "]"}],
                  ",", "\[IndentingNewLine]", 
                 RowBox[{"Button", "[", 
                  RowBox[{"\"\<\[DoubleRightArrow]\>\"", ",", 
                   RowBox[{
                    RowBox[{"mycurpoints", "\[LeftDoubleBracket]", 
                    RowBox[{"y", ",", "1"}], "\[RightDoubleBracket]"}], "=", 
                    RowBox[{
                    RowBox[{
                    RowBox[{"(", 
                    RowBox[{"#", "+", 
                    RowBox[{"{", 
                    RowBox[{"30", ",", "0"}], "}"}]}], ")"}], "&"}], "/@", 
                    RowBox[{"mycurpoints", "\[LeftDoubleBracket]", 
                    RowBox[{"y", ",", "1"}], "\[RightDoubleBracket]"}]}]}], 
                   ",", 
                   RowBox[{"ImageSize", "\[Rule]", 
                    RowBox[{"{", 
                    RowBox[{"17", ",", "17"}], "}"}]}], ",", 
                   RowBox[{"BaselinePosition", "\[Rule]", "Center"}]}], 
                  "]"}]}], "}"}], "//", 
               RowBox[{
                RowBox[{"Row", "[", 
                 RowBox[{"#", ",", 
                  RowBox[{"BaselinePosition", "\[Rule]", "Bottom"}]}], "]"}], 
                "&"}]}]}], "\[IndentingNewLine]", "}"}], "]"}], ",", 
           "\[IndentingNewLine]", "\[IndentingNewLine]", 
           RowBox[{"(*", 
            RowBox[{
             RowBox[{
              RowBox[{
               RowBox[{
                RowBox[{
                 RowBox[{
                  RowBox[{
                   RowBox[{
                    RowBox[{"Dynamically", " ", "updated", " ", "content"}], 
                    "..."}], "..."}], "..."}], "..."}], "..."}], "..."}], 
              "..."}], "..."}], "*)"}], "\[IndentingNewLine]", 
           RowBox[{"Row", "[", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"Slider", "[", 
               RowBox[{
                RowBox[{"Dynamic", "[", "myt", "]"}], ",", 
                RowBox[{"{", 
                 RowBox[{"1", ",", "Nimg", ",", "1"}], "}"}], ",", 
                RowBox[{"ImageSize", "\[Rule]", 
                 RowBox[{"{", 
                  RowBox[{"600", ",", "20"}], "}"}]}]}], "]"}], " ", ",", 
              RowBox[{"Button", "[", 
               RowBox[{"\"\<-\>\"", ",", 
                RowBox[{"If", "[", 
                 RowBox[{
                  RowBox[{"myt", ">", "1"}], ",", 
                  RowBox[{"myt", "=", 
                   RowBox[{"myt", "-", "1"}]}]}], "]"}]}], "]"}], ",", 
              RowBox[{"Button", "[", 
               RowBox[{"\"\<+\>\"", ",", 
                RowBox[{"If", "[", 
                 RowBox[{
                  RowBox[{"myt", "<", "Nimg"}], ",", 
                  RowBox[{"myt", "=", 
                   RowBox[{"myt", "+", "1"}]}]}], "]"}]}], "]"}], ",", 
              RowBox[{"Spacer", "[", "10", "]"}], ",", 
              RowBox[{"Dynamic", "[", "myt", "]"}]}], "}"}], "]"}], ",", 
           "\[IndentingNewLine]", 
           RowBox[{"Row", "[", 
            RowBox[{"{", 
             RowBox[{"Slider", "[", 
              RowBox[{
               RowBox[{"Dynamic", "[", "zoom", "]"}], ",", 
               RowBox[{"{", 
                RowBox[{"300", ",", "1500", ",", "10"}], "}"}], ",", 
               RowBox[{"ImageSize", "\[Rule]", 
                RowBox[{"{", 
                 RowBox[{"600", ",", "20"}], "}"}]}]}], "]"}], " ", "}"}], 
            "]"}], ",", "\[IndentingNewLine]", 
           RowBox[{"Row", "[", 
            RowBox[{"{", 
             RowBox[{"\"\<Choose Channel: \>\"", 
              RowBox[{"PopupMenu", "[", 
               RowBox[{
                RowBox[{"Dynamic", "[", "mycc", "]"}], ",", 
                RowBox[{"Table", "[", 
                 RowBox[{
                  RowBox[{"i", "\[Rule]", 
                   RowBox[{"\"\<Channel \>\"", "<>", 
                    RowBox[{"ToString", "[", "i", "]"}]}]}], ",", 
                  RowBox[{"{", 
                   RowBox[{"i", ",", "0", ",", "chN", ",", "1"}], "}"}]}], 
                 "]"}]}], "]"}]}], "}"}], "]"}], ",", "\[IndentingNewLine]", 
           RowBox[{"Row", "[", 
            RowBox[{"{", "\[IndentingNewLine]", "\[IndentingNewLine]", 
             RowBox[{
              RowBox[{"Manipulate", "[", 
               RowBox[{
                RowBox[{"LocatorPane", "[", 
                 RowBox[{
                  RowBox[{"Dynamic", "[", 
                   RowBox[{"mycurpoints", "\[LeftDoubleBracket]", 
                    RowBox[{"y", ",", "1"}], "\[RightDoubleBracket]"}], "]"}],
                   ",", "\[IndentingNewLine]", 
                  RowBox[{"Show", "[", 
                   RowBox[{
                    RowBox[{"If", "[", 
                    RowBox[{
                    RowBox[{"mycc", ">", "0"}], ",", 
                    RowBox[{"ImageAdjust", "[", 
                    RowBox[{
                    RowBox[{"ColorSeparate", "[", 
                    RowBox[{
                    "allimg", "\[LeftDoubleBracket]", "myt", 
                    "\[RightDoubleBracket]"}], "]"}], "\[LeftDoubleBracket]", 
                    "mycc", "\[RightDoubleBracket]"}], "]"}], ",", 
                    "\[IndentingNewLine]", 
                    RowBox[{"ImageAdjust", "[", 
                    RowBox[{
                    "allimg", "\[LeftDoubleBracket]", "myt", 
                    "\[RightDoubleBracket]"}], "]"}]}], "]"}], ",", 
                    RowBox[{"ImageSize", "\[Rule]", 
                    RowBox[{"{", "zoom", "}"}]}]}], "]"}], ",", 
                  RowBox[{"LocatorAutoCreate", "\[Rule]", "True"}], ",", 
                  RowBox[{"Appearance", "\[Rule]", "\"\<\!\(\*
StyleBox[\"+\",
FontColor->RGBColor[1, 1, 0]]\)\>\""}]}], "]"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{"{", 
                   RowBox[{"br", ",", "30"}], "}"}], ",", "0.1", ",", "100", 
                  ",", "0.01"}], "}"}], ",", 
                RowBox[{"ControlType", "\[Rule]", 
                 RowBox[{"{", "VerticalSlider", "}"}]}], ",", 
                RowBox[{"ControlPlacement", "\[Rule]", "Left"}]}], "]"}], ",",
               "\[IndentingNewLine]", 
              RowBox[{"Spacer", "[", "10", "]"}], ",", 
              RowBox[{"Dynamic", "[", "\[IndentingNewLine]", 
               RowBox[{"GraphicsColumn", "[", "\[IndentingNewLine]", 
                RowBox[{
                 RowBox[{
                  RowBox[{
                   RowBox[{"(", 
                    RowBox[{
                    RowBox[{"#", "//", "ImageAdjust"}], "//", 
                    RowBox[{
                    RowBox[{"Show", "[", 
                    RowBox[{"{", 
                    RowBox[{"#", ",", 
                    RowBox[{"Graphics", "[", 
                    RowBox[{"{", 
                    RowBox[{
                    RowBox[{"EdgeForm", "[", 
                    RowBox[{"Directive", "[", "Yellow", "]"}], "]"}], ",", 
                    RowBox[{"Opacity", "[", "0.", "]"}], ",", 
                    "\[IndentingNewLine]", 
                    RowBox[{"myshape", "=", 
                    RowBox[{"If", "[", 
                    RowBox[{
                    RowBox[{"roit", "==", "1"}], ",", 
                    RowBox[{"Polygon", "[", 
                    RowBox[{"mycurpoints", "\[LeftDoubleBracket]", 
                    RowBox[{"y", ",", "1"}], "\[RightDoubleBracket]"}], "]"}],
                     ",", "\[IndentingNewLine]", 
                    RowBox[{"If", "[", 
                    RowBox[{
                    RowBox[{"roit", "\[Equal]", "2"}], ",", 
                    "\[IndentingNewLine]", 
                    RowBox[{
                    RowBox[{"p1", "=", 
                    RowBox[{"{", 
                    RowBox[{
                    RowBox[{"Min", "[", 
                    RowBox[{"mycurpoints", "\[LeftDoubleBracket]", 
                    RowBox[{"y", ",", "1", ",", 
                    RowBox[{"1", ";;", "All"}], ",", "1"}], 
                    "\[RightDoubleBracket]"}], "]"}], ",", 
                    RowBox[{"Min", "[", 
                    RowBox[{"mycurpoints", "\[LeftDoubleBracket]", 
                    RowBox[{"y", ",", "1", ",", 
                    RowBox[{"1", ";;", "All"}], ",", "2"}], 
                    "\[RightDoubleBracket]"}], "]"}]}], "}"}]}], ";", 
                    "\[IndentingNewLine]", 
                    RowBox[{"p2", "=", 
                    RowBox[{"{", 
                    RowBox[{
                    RowBox[{"Max", "[", 
                    RowBox[{"mycurpoints", "\[LeftDoubleBracket]", 
                    RowBox[{"y", ",", "1", ",", 
                    RowBox[{"1", ";;", "All"}], ",", "1"}], 
                    "\[RightDoubleBracket]"}], "]"}], ",", 
                    RowBox[{"Max", "[", 
                    RowBox[{"mycurpoints", "\[LeftDoubleBracket]", 
                    RowBox[{"y", ",", "1", ",", 
                    RowBox[{"1", ";;", "All"}], ",", "2"}], 
                    "\[RightDoubleBracket]"}], "]"}]}], "}"}]}], ";", 
                    "\[IndentingNewLine]", 
                    RowBox[{"myflag", "=", 
                    RowBox[{"\"\<  dim=\>\"", "<>", 
                    RowBox[{"ToString", "[", 
                    RowBox[{"Round", "[", 
                    RowBox[{
                    RowBox[{"Abs", "[", 
                    RowBox[{"p1", "-", "p2"}], "]"}], ",", "1"}], "]"}], 
                    "]"}]}]}], ";", "\[IndentingNewLine]", 
                    RowBox[{"Rectangle", "[", 
                    RowBox[{"p1", ",", "p2"}], "]"}]}], ",", 
                    "\[IndentingNewLine]", 
                    RowBox[{"If", "[", 
                    RowBox[{
                    RowBox[{"roit", "\[Equal]", "3"}], ",", 
                    "\[IndentingNewLine]", 
                    RowBox[{
                    RowBox[{"p1", "=", 
                    RowBox[{"{", 
                    RowBox[{
                    RowBox[{"Max", "[", 
                    RowBox[{"mycurpoints", "\[LeftDoubleBracket]", 
                    RowBox[{"y", ",", "1", ",", 
                    RowBox[{"1", ";;", "All"}], ",", "1"}], 
                    "\[RightDoubleBracket]"}], "]"}], ",", 
                    RowBox[{"Max", "[", 
                    RowBox[{"mycurpoints", "\[LeftDoubleBracket]", 
                    RowBox[{"y", ",", "1", ",", 
                    RowBox[{"1", ";;", "All"}], ",", "2"}], 
                    "\[RightDoubleBracket]"}], "]"}]}], "}"}]}], ";", 
                    RowBox[{"p2", "=", 
                    RowBox[{"{", 
                    RowBox[{
                    RowBox[{"Min", "[", 
                    RowBox[{"mycurpoints", "\[LeftDoubleBracket]", 
                    RowBox[{"y", ",", "1", ",", 
                    RowBox[{"1", ";;", "All"}], ",", "1"}], 
                    "\[RightDoubleBracket]"}], "]"}], ",", 
                    RowBox[{"Min", "[", 
                    RowBox[{"mycurpoints", "\[LeftDoubleBracket]", 
                    RowBox[{"y", ",", "1", ",", 
                    RowBox[{"1", ";;", "All"}], ",", "2"}], 
                    "\[RightDoubleBracket]"}], "]"}]}], "}"}]}], ";", 
                    "\[IndentingNewLine]", 
                    RowBox[{"Size", "=", 
                    SqrtBox[
                    RowBox[{
                    RowBox[{"(", 
                    RowBox[{"p1", "-", "p2"}], ")"}], ".", 
                    RowBox[{"(", 
                    RowBox[{"p1", "-", "p2"}], ")"}]}]]}], ";", 
                    "\[IndentingNewLine]", 
                    RowBox[{"myflag", "=", 
                    RowBox[{"\"\<  radius=\>\"", "<>", 
                    RowBox[{"ToString", "[", 
                    RowBox[{"Round", "[", 
                    RowBox[{"Size", ",", "1"}], "]"}], "]"}]}]}], ";", 
                    "\[IndentingNewLine]", 
                    RowBox[{"Disk", "[", 
                    RowBox[{
                    RowBox[{"mycurpoints", "\[LeftDoubleBracket]", 
                    RowBox[{"y", ",", "1", ",", "1"}], 
                    "\[RightDoubleBracket]"}], ",", "Size"}], "]"}]}]}], 
                    "]"}]}], "]"}]}], "]"}]}]}], "}"}], "]"}]}], "}"}], "]"}],
                     "&"}]}], ")"}], "&"}], "/@", 
                  RowBox[{"ColorSeparate", "[", 
                   RowBox[{
                   "allimg", "\[LeftDoubleBracket]", "myt", 
                    "\[RightDoubleBracket]"}], "]"}]}], ",", 
                 "\[IndentingNewLine]", 
                 RowBox[{"Background", "\[Rule]", 
                  RowBox[{"{", 
                   RowBox[{
                   "Red", ",", "Green", ",", "Blue", ",", "Orange", ",", 
                    "Purple", ",", "Pink", ",", "Black", ",", "Gray", ",", 
                    "Brown"}], "}"}]}], ",", 
                 RowBox[{"ImageSize", "\[Rule]", 
                  RowBox[{"{", "500", "}"}]}]}], "]"}], "]"}], ",", 
              "\[IndentingNewLine]", 
              RowBox[{"Dynamic", "[", "\[IndentingNewLine]", 
               RowBox[{
                RowBox[{"mydata", "=", 
                 RowBox[{"If", "[", 
                  RowBox[{
                   RowBox[{"sizemean", "\[Equal]", "1"}], ",", 
                   RowBox[{"If", "[", 
                    RowBox[{
                    RowBox[{"chN", "\[Equal]", "1"}], ",", 
                    FractionBox[
                    RowBox[{"mysavepoints", "\[LeftDoubleBracket]", 
                    RowBox[{"y", ",", 
                    RowBox[{"1", ";;", "All"}], ",", "3"}], 
                    "\[RightDoubleBracket]"}], 
                    RowBox[{"If", "[", 
                    RowBox[{
                    RowBox[{"cury", "\[Equal]", "0"}], ",", "1", ",", 
                    RowBox[{"mysavepoints", "\[LeftDoubleBracket]", 
                    RowBox[{"cury", ",", 
                    RowBox[{"1", ";;", "All"}], ",", "3"}], 
                    "\[RightDoubleBracket]"}]}], "]"}]], ",", 
                    RowBox[{
                    FractionBox[
                    RowBox[{"mysavepoints", "\[LeftDoubleBracket]", 
                    RowBox[{"y", ",", 
                    RowBox[{"1", ";;", "All"}], ",", "3"}], 
                    "\[RightDoubleBracket]"}], 
                    RowBox[{"If", "[", 
                    RowBox[{
                    RowBox[{"cury", "\[Equal]", "0"}], ",", "1", ",", 
                    RowBox[{"mysavepoints", "\[LeftDoubleBracket]", 
                    RowBox[{"cury", ",", 
                    RowBox[{"1", ";;", "All"}], ",", "3"}], 
                    "\[RightDoubleBracket]"}]}], "]"}]], "//", 
                    "Transpose"}]}], "]"}], ",", 
                   RowBox[{"mysavepoints", "\[LeftDoubleBracket]", 
                    RowBox[{"y", ",", 
                    RowBox[{"1", ";;", "All"}], ",", "2"}], 
                    "\[RightDoubleBracket]"}]}], "]"}]}], ";", 
                "\[IndentingNewLine]", 
                RowBox[{"Column", "[", 
                 RowBox[{
                  RowBox[{"{", "\[IndentingNewLine]", 
                   RowBox[{
                    RowBox[{"Row", "[", 
                    RowBox[{"{", 
                    RowBox[{
                    RowBox[{"Spacer", "[", "130", "]"}], ",", 
                    "\[IndentingNewLine]", 
                    RowBox[{"\"\<ROI /\>\"", 
                    RowBox[{"PopupMenu", "[", 
                    RowBox[{
                    RowBox[{"Dynamic", "[", "cury", "]"}], ",", 
                    RowBox[{"Join", "[", 
                    RowBox[{
                    RowBox[{"{", 
                    RowBox[{
                    RowBox[{"0", "\[Rule]", "\"\<Choose Divider\>\""}], ",", 
                    RowBox[{"1", "\[Rule]", "\"\<Background\>\""}], ",", 
                    RowBox[{"2", "\[Rule]", "\"\<Cytoplasm\>\""}], ",", 
                    RowBox[{"3", "\[Rule]", "\"\<Nucleus\>\""}], ",", 
                    RowBox[{"4", "\[Rule]", "\"\<Nucleoli\>\""}], ",", 
                    RowBox[{"5", "\[Rule]", "\"\<Array\>\""}], ",", 
                    RowBox[{"6", "\[Rule]", "\"\<ROI6\>\""}]}], "}"}], ",", 
                    RowBox[{"Table", "[", 
                    RowBox[{
                    RowBox[{"i", "\[Rule]", 
                    RowBox[{"\"\<ROI\>\"", "<>", 
                    RowBox[{"ToString", "[", "i", "]"}]}]}], ",", 
                    RowBox[{"{", 
                    RowBox[{"i", ",", "7", ",", "30", ",", "1"}], "}"}]}], 
                    "]"}]}], "]"}]}], "]"}]}]}], "\[IndentingNewLine]", "}"}],
                     "]"}], ",", "\[IndentingNewLine]", 
                    RowBox[{"Row", "[", 
                    RowBox[{"{", 
                    RowBox[{
                    RowBox[{"Spacer", "[", "130", "]"}], ",", 
                    "\[IndentingNewLine]", 
                    RowBox[{"\"\<Measure:\>\"", 
                    RowBox[{"PopupMenu", "[", 
                    RowBox[{
                    RowBox[{"Dynamic", "[", "sizemean", "]"}], ",", 
                    RowBox[{"{", 
                    RowBox[{
                    RowBox[{"0", "\[Rule]", "\"\<ROI Size\>\""}], ",", 
                    RowBox[{"1", "\[Rule]", "\"\<ROI Mean Int.\>\""}]}], 
                    "}"}]}], "]"}]}]}], "\[IndentingNewLine]", "}"}], "]"}], 
                    ",", "\[IndentingNewLine]", 
                    RowBox[{
                    RowBox[{"ListPlot", "[", 
                    RowBox[{"mydata", ",", 
                    RowBox[{"Joined", "\[Rule]", "True"}], ",", 
                    RowBox[{"Frame", "\[Rule]", "True"}], ",", 
                    RowBox[{"FrameTicks", "\[Rule]", 
                    RowBox[{"{", 
                    RowBox[{
                    RowBox[{"{", 
                    RowBox[{"All", ",", "All"}], "}"}], ",", 
                    RowBox[{"{", 
                    RowBox[{"All", ",", "All"}], "}"}]}], "}"}]}], ",", 
                    RowBox[{"FrameLabel", "\[Rule]", 
                    RowBox[{"{", 
                    RowBox[{"\"\<Image #\>\"", ",", " ", 
                    RowBox[{"If", "[", 
                    RowBox[{
                    RowBox[{"sizemean", "\[Equal]", "1"}], ",", 
                    "\"\<Mean Int.\>\"", ",", "\"\<ROI Size (pixels)\>\""}], 
                    "]"}]}], "}"}]}], ",", 
                    RowBox[{"PlotMarkers", "\[Rule]", 
                    RowBox[{"{", 
                    RowBox[{"Automatic", ",", "8"}], "}"}]}], " ", ",", 
                    RowBox[{"PlotStyle", "\[Rule]", 
                    RowBox[{"Colors", "\[LeftDoubleBracket]", 
                    RowBox[{"2", ";;", "All"}], "\[RightDoubleBracket]"}]}], 
                    ",", 
                    RowBox[{"AxesOrigin", "\[Rule]", 
                    RowBox[{"{", 
                    RowBox[{"0", ",", "Automatic"}], "}"}]}], ",", 
                    RowBox[{"ImageSize", "\[Rule]", "300"}], ",", 
                    RowBox[{"AspectRatio", "\[Rule]", "1"}], ",", 
                    RowBox[{"PlotRange", "\[Rule]", 
                    RowBox[{"{", 
                    RowBox[{
                    RowBox[{"{", 
                    RowBox[{"0", ",", 
                    RowBox[{"Nimg", "+", "1"}]}], "}"}], ",", "All"}], 
                    "}"}]}]}], "]"}], "//", 
                    RowBox[{
                    RowBox[{"Show", "[", 
                    RowBox[{"{", 
                    RowBox[{"#", ",", 
                    RowBox[{"Graphics", "[", 
                    RowBox[{"{", 
                    RowBox[{"Purple", ",", "Dashed", ",", 
                    RowBox[{"Line", "[", 
                    RowBox[{"{", 
                    RowBox[{
                    RowBox[{"{", 
                    RowBox[{"myt", ",", 
                    RowBox[{"-", "1000"}]}], "}"}], ",", 
                    RowBox[{"{", 
                    RowBox[{"myt", ",", "1000"}], "}"}]}], "}"}], "]"}]}], 
                    "}"}], "]"}]}], "}"}], "]"}], "&"}]}]}], 
                   "\[IndentingNewLine]", "\[IndentingNewLine]", "}"}], ",", 
                  RowBox[{"Dynamic", "[", "mymask", "]"}]}], "]"}]}], "]"}]}],
              "\[IndentingNewLine]", "}"}], "]"}]}], "\[IndentingNewLine]", 
          "}"}], "]"}], "//", "Panel"}]}]}], "\[IndentingNewLine]", "]"}]}], 
   "]"}]}]], "Input",
 CellChangeTimes->{{3.5637923595188*^9, 3.5637923676288114`*^9}, {
   3.563792446528922*^9, 3.563792448408924*^9}, {3.5637925393490515`*^9, 
   3.5637925410590544`*^9}, {3.5637926264191737`*^9, 
   3.5637926436091976`*^9}, {3.5637927468493423`*^9, 
   3.5637927790793877`*^9}, {3.563792827219455*^9, 3.5637928360594673`*^9}, {
   3.5637929157595787`*^9, 3.5637929178795815`*^9}, {3.563793064319787*^9, 
   3.563793069709794*^9}, {3.5637931146798573`*^9, 3.5637931207998657`*^9}, {
   3.563793194479969*^9, 3.5637932106199913`*^9}, {3.563793317990142*^9, 
   3.5637933634402056`*^9}, {3.563793428170296*^9, 3.5637934539995403`*^9}, {
   3.5637935033560176`*^9, 3.563793507046023*^9}, 3.5637936045261593`*^9, {
   3.563793704576299*^9, 3.5637937668463864`*^9}, {3.563794008187078*^9, 
   3.563794009127079*^9}, {3.5637940773471746`*^9, 3.5637941027172103`*^9}, {
   3.56379417405731*^9, 3.5637941749473114`*^9}, {3.5637942471174126`*^9, 
   3.5637942520974197`*^9}, {3.5637943801475987`*^9, 
   3.5637943938276176`*^9}, {3.5637944269176645`*^9, 3.56379450947778*^9}, {
   3.5637945731678686`*^9, 3.563794608107918*^9}, {3.5637946424079657`*^9, 
   3.5637946770580144`*^9}, {3.5637948414982443`*^9, 
   3.5637948971983223`*^9}, {3.563794932018371*^9, 3.56379495967841*^9}, {
   3.563795022998499*^9, 3.5637950335985136`*^9}, {3.563795066078559*^9, 
   3.5637951542286825`*^9}, {3.5637952055887547`*^9, 
   3.5637952213687763`*^9}, {3.563795262648834*^9, 3.563795263908836*^9}, {
   3.563795325258922*^9, 3.5637953264589233`*^9}, 3.5637953963390217`*^9, {
   3.5637954557091045`*^9, 3.5637955080191774`*^9}, {3.5637956158693285`*^9, 
   3.563795629129347*^9}, {3.5637956810194197`*^9, 3.5637957408495035`*^9}, {
   3.5637957715695467`*^9, 3.5637957868195677`*^9}, {3.5637958913997145`*^9, 
   3.563795931789771*^9}, {3.5637959978898635`*^9, 3.5637959994198656`*^9}, {
   3.563796122500038*^9, 3.5637961365200577`*^9}, {3.563796198260144*^9, 
   3.563796215600168*^9}, {3.5637962461702113`*^9, 3.563796390130413*^9}, {
   3.5637964486114945`*^9, 3.5637964758015327`*^9}, {3.5637969942722583`*^9, 
   3.5637969986322646`*^9}, {3.563797154662483*^9, 3.5637971563424854`*^9}, {
   3.563797192012535*^9, 3.563797234792595*^9}, {3.5637972650226374`*^9, 
   3.5637973028026905`*^9}, {3.5637973344727345`*^9, 3.563797350882758*^9}, {
   3.56379746665292*^9, 3.563797468032922*^9}, {3.5637975947930994`*^9, 
   3.563797605393114*^9}, 3.563797771363346*^9, {3.563797811643403*^9, 
   3.56379786680348*^9}, {3.5637979949036593`*^9, 3.563798012483684*^9}, {
   3.563798221563977*^9, 3.563798222093978*^9}, {3.5638352389144773`*^9, 
   3.5638352736045256`*^9}, {3.5638355726429453`*^9, 3.563835583752961*^9}, {
   3.5638358633933525`*^9, 3.5638359394434595`*^9}, {3.5638360131535625`*^9, 
   3.5638360160935664`*^9}, {3.563836096613679*^9, 3.563836186083804*^9}, {
   3.5638362205738525`*^9, 3.563836223903857*^9}, {3.5638362935339546`*^9, 
   3.563836388114087*^9}, {3.563836438804158*^9, 3.563836469274201*^9}, {
   3.5638366011843853`*^9, 3.5638366019243865`*^9}, 3.5638366326144295`*^9, {
   3.563836813194682*^9, 3.5638368253746996`*^9}, {3.563836895624798*^9, 
   3.5638369033748083`*^9}, {3.5638370069149537`*^9, 3.563837012864962*^9}, {
   3.5638370649250345`*^9, 3.563837072265045*^9}, {3.5638371339251313`*^9, 
   3.563837136595135*^9}, {3.5638372772253323`*^9, 3.5638372859253445`*^9}, {
   3.5638373216853943`*^9, 3.5638373474754305`*^9}, {3.5638373789954743`*^9, 
   3.5638374082655153`*^9}, {3.563837527795683*^9, 3.563837527915683*^9}, {
   3.5638376095267973`*^9, 3.5638376465068493`*^9}, {3.563837698596922*^9, 
   3.5638377245769587`*^9}, {3.563837757807005*^9, 3.5638378186770897`*^9}, 
   3.5638379508372755`*^9, {3.5638379932873344`*^9, 3.5638380011273456`*^9}, {
   3.5638380385773983`*^9, 3.5638380461974087`*^9}, {3.56383809713748*^9, 
   3.5638381203275127`*^9}, {3.5638383164117875`*^9, 
   3.5638383397118206`*^9}, {3.5638383790718756`*^9, 
   3.5638383968319006`*^9}, {3.5638384561719837`*^9, 
   3.5638384564519835`*^9}, {3.5638387564824038`*^9, 3.563838831652509*^9}, {
   3.563838873022567*^9, 3.563838873682568*^9}, {3.5638389550426817`*^9, 
   3.5638389919727335`*^9}, {3.563839038172798*^9, 3.563839095292878*^9}, {
   3.563839194323017*^9, 3.563839256453104*^9}, {3.563839433873352*^9, 
   3.5638394616433907`*^9}, {3.563839582953561*^9, 3.5638396306636276`*^9}, {
   3.563839736513776*^9, 3.563839757363805*^9}, {3.563839855363942*^9, 
   3.563839915304026*^9}, {3.563840055844223*^9, 3.5638400592342277`*^9}, {
   3.584423420208854*^9, 3.584423455870517*^9}, 3.5844238506614103`*^9, {
   3.584423900721898*^9, 3.584423916524726*^9}, {3.5844241605091543`*^9, 
   3.5844242509581137`*^9}, {3.592220451368591*^9, 3.5922204516186*^9}, {
   3.593193755143792*^9, 3.5931940137973585`*^9}, {3.5931940550025425`*^9, 
   3.5931940918481383`*^9}, {3.593194129084377*^9, 3.5931941306625786`*^9}, {
   3.5932598135612946`*^9, 3.5932598206085196`*^9}, {3.5933427348988204`*^9, 
   3.5933427369301734`*^9}, {3.5935457629774027`*^9, 
   3.5935458381844454`*^9}, {3.5935459096019974`*^9, 3.593545941951522*^9}, {
   3.593545974093524*^9, 3.5935459752292814`*^9}, {3.593546148937395*^9, 
   3.593546154183885*^9}, {3.5935462234429693`*^9, 3.5935462390723686`*^9}, {
   3.5937830442450027`*^9, 3.593783053701302*^9}, {3.593783096527791*^9, 
   3.593783101480093*^9}, {3.5937831390401144`*^9, 3.59378318332362*^9}, {
   3.5937832583538513`*^9, 3.5937835760320272`*^9}, {3.5937836746762333`*^9, 
   3.5937836818620205`*^9}, {3.5937837190387893`*^9, 
   3.5937837584527483`*^9}, {3.593783789921714*^9, 3.5937838142339115`*^9}, {
   3.5937838617145567`*^9, 3.593783888919922*^9}, {3.5937839411637287`*^9, 
   3.593783980274786*^9}, {3.5937840719531136`*^9, 3.5937840754324293`*^9}, {
   3.5937841707427607`*^9, 3.5937841744582357`*^9}, 3.5937842602193737`*^9, {
   3.593785680155939*^9, 3.593785681111577*^9}, 3.5937861483707056`*^9, {
   3.5941472644592333`*^9, 
   3.5941473091917057`*^9}},ExpressionUUID->"b38d04ae-d039-4c2c-bb94-\
d3b993b9f4f9"]
}, Closed]]
}, Closed]],

Cell[CellGroupData[{

Cell["Run the Code", "Section",
 CellChangeTimes->{{3.747223537203185*^9, 3.747223541895945*^9}, {
  3.7473605284954643`*^9, 
  3.747360530090447*^9}},ExpressionUUID->"95aab70c-6645-43d2-ba9f-\
4bd3c8d7b285"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{"myfile", "=", 
  "\"\</Users/ccialek/Desktop/beautiful_cell/beautiful vid MAX_TA10b_BG.tif\>\
\""}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"mymovie", " ", "=", 
   RowBox[{"Import", "[", "myfile", "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"analysisFolder", "=", 
   RowBox[{
    RowBox[{"DirectoryName", "[", "myfile", "]"}], "<>", "\"\<Analysis/\>\"", 
    "<>", 
    RowBox[{"StringDrop", "[", 
     RowBox[{
      RowBox[{"StringDelete", "[", 
       RowBox[{"myfile", ",", 
        RowBox[{"DirectoryName", "[", "myfile", "]"}]}], "]"}], ",", 
      RowBox[{"-", "4"}]}], "]"}]}]}], ";"}]}], "Input",
 CellChangeTimes->{{3.747223289802382*^9, 3.747223303006713*^9}, {
  3.747223340050305*^9, 3.747223358813809*^9}, {3.747223443697801*^9, 
  3.747223468699589*^9}, {3.7472243108279037`*^9, 3.747224319112535*^9}, {
  3.747224396913701*^9, 3.747224427534934*^9}, {3.7472244633402557`*^9, 
  3.747224463832872*^9}},ExpressionUUID->"c86740af-39b6-44e1-8647-\
fbe2c187e361"],

Cell[BoxData["\<\"/Users/ccialek/Desktop/beautiful_cell/beautiful vid \
MAX_TA10b_BG.tif\"\>"], "Output",
 CellChangeTimes->{3.747224430008505*^9, 3.7472244645765944`*^9, 
  3.747352455297389*^9, 3.747352503625432*^9, 3.74735275244846*^9, 
  3.747359592133943*^9, 3.74735964842568*^9, 
  3.747404054094459*^9},ExpressionUUID->"c710d32b-a5b5-462d-86e1-\
1be23303c85e"]
}, Open  ]],

Cell[BoxData[{
 RowBox[{
  RowBox[{"ch1", "=", 
   RowBox[{
    RowBox[{
     RowBox[{"ImageSubtract", "[", 
      RowBox[{"#", ",", 
       RowBox[{"500", "/", 
        SuperscriptBox["2", "16"]}]}], "]"}], "&"}], "/@", 
    RowBox[{"mymovie", "[", 
     RowBox[{"[", 
      RowBox[{"1", ";;", "All", ";;", "3"}], "]"}], "]"}]}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"ch2", "=", 
   RowBox[{
    RowBox[{
     RowBox[{"ImageSubtract", "[", 
      RowBox[{"#", ",", 
       RowBox[{"500", "/", 
        SuperscriptBox["2", "16"]}]}], "]"}], "&"}], "/@", 
    RowBox[{"mymovie", "[", 
     RowBox[{"[", 
      RowBox[{"2", ";;", "All", ";;", "3"}], "]"}], "]"}]}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"ch3", "=", 
   RowBox[{
    RowBox[{
     RowBox[{"ImageSubtract", "[", 
      RowBox[{"#", ",", 
       RowBox[{"500", "/", 
        SuperscriptBox["2", "16"]}]}], "]"}], "&"}], "/@", 
    RowBox[{"mymovie", "[", 
     RowBox[{"[", 
      RowBox[{"3", ";;", "All", ";;", "3"}], "]"}], "]"}]}]}], 
  ";"}]}], "Input",
 CellChangeTimes->{{3.716317150993166*^9, 3.716317199800564*^9}, {
  3.716318356224553*^9, 3.716318362197032*^9}, {3.716318404047377*^9, 
  3.716318442568283*^9}, {3.716318485549096*^9, 3.7163184902790127`*^9}, {
  3.7163189233374233`*^9, 3.716318952441222*^9}, {3.7472242766144876`*^9, 
  3.747224276688676*^9}, {3.747224471571238*^9, 3.747224475842003*^9}, {
  3.747352738617024*^9, 
  3.747352750574883*^9}},ExpressionUUID->"5336cb6a-1bae-4c4d-9d35-\
5b49db48b643"],

Cell[BoxData[
 RowBox[{
  RowBox[{"myColMov", "=", 
   RowBox[{"Table", "[", 
    RowBox[{
     RowBox[{"ColorCombine", "[", 
      RowBox[{"{", 
       RowBox[{
        RowBox[{"ch1", "[", 
         RowBox[{"[", "i", "]"}], "]"}], ",", 
        RowBox[{"ch2", "[", 
         RowBox[{"[", "i", "]"}], "]"}], ",", 
        RowBox[{"ch3", "[", 
         RowBox[{"[", "i", "]"}], "]"}]}], "}"}], "]"}], ",", 
     RowBox[{"{", 
      RowBox[{"i", ",", "1", ",", 
       RowBox[{"Length", "[", "ch1", "]"}], ",", "1"}], "}"}]}], "]"}]}], 
  ";"}]], "Input",
 CellChangeTimes->{
  3.747352695823657*^9},ExpressionUUID->"c16d9c29-9349-4c47-b374-\
62e5f591d461"],

Cell["\<\
***If you have trouble with the myROI, a possible solution is that you \
already have a data file with the same name... 
***Try deleting the file manually in file explorer and shift+enter the myROI \
code again\
\>", "Text",
 CellChangeTimes->{{3.747360815884214*^9, 
  3.747360867229609*^9}},ExpressionUUID->"50a7206d-f20f-4f0d-9cae-\
9ef134a9168e"],

Cell[BoxData[
 RowBox[{"MyROI", "[", 
  RowBox[{"myColMov", ",", 
   RowBox[{"analysisFolder", "<>", "\"\<_myROI.dat\>\""}]}], "]"}]], "Input",
 CellChangeTimes->{{3.74736058649921*^9, 3.7473606006752777`*^9}, {
  3.747360723083191*^9, 
  3.7473607237776814`*^9}},ExpressionUUID->"8c2d66c9-8576-41d1-b7a3-\
46a19ebb6996"],

Cell["\<\

***Import mask file:\
\>", "Text",
 CellChangeTimes->{{3.747358807604846*^9, 3.747358854932384*^9}, {
  3.747359061987955*^9, 
  3.7473590653964043`*^9}},ExpressionUUID->"8f777776-38f6-4634-9430-\
0262ea1f01cb"],

Cell[BoxData[
 RowBox[{
  RowBox[{"mymaskfile", " ", "=", " ", 
   RowBox[{"<<", 
    RowBox[{"(", 
     RowBox[{"analysisFolder", "<>", "\"\<_myROI.dat\>\""}], ")"}]}]}], 
  ";"}]], "Input",
 CellChangeTimes->{{3.747360761309847*^9, 
  3.747360787071369*^9}},ExpressionUUID->"dcafb01d-4fc1-43ca-b044-\
66ca5d6fc7d2"],

Cell["\<\

***Specify bkgrd and length of movie:\
\>", "Text",
 CellChangeTimes->{{3.747358807604846*^9, 3.747358854932384*^9}, 
   3.747359067239634*^9},ExpressionUUID->"d503ead6-2f90-4402-814d-\
c26e9f4861af"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"lenMov", " ", "=", " ", 
   RowBox[{
    RowBox[{"mymaskfile", "[", 
     RowBox[{"[", 
      RowBox[{"1", ",", "All", ",", "1", ",", "All"}], "]"}], "]"}], "//", 
    "Length"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"mybkgdcoords", " ", "=", " ", 
   RowBox[{"mymaskfile", "[", 
    RowBox[{"[", 
     RowBox[{"1", ",", "All", ",", "1", ",", "All"}], "]"}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"myCytoCoords", " ", "=", " ", 
   RowBox[{"mymaskfile", "[", 
    RowBox[{"[", 
     RowBox[{"2", ",", "All", ",", "1", ",", "All"}], "]"}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"myNucCoords", " ", "=", " ", 
   RowBox[{"mymaskfile", "[", 
    RowBox[{"[", 
     RowBox[{"3", ",", "All", ",", "1", ",", "All"}], "]"}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"dummyMov", "=", 
   RowBox[{"Table", "[", 
    RowBox[{
     RowBox[{"Image", "[", 
      RowBox[{
       RowBox[{"Table", "[", 
        RowBox[{"0", ",", 
         RowBox[{"512", "^", "2"}], ",", "1"}], "]"}], "//", 
       RowBox[{
        RowBox[{"Partition", "[", 
         RowBox[{"#", ",", "512"}], "]"}], "&"}]}], "]"}], ",", 
     RowBox[{"{", 
      RowBox[{"j", ",", "1", ",", "lenMov", ",", "1"}], "}"}]}], "]"}]}], 
  ";"}]}], "Input",
 CellChangeTimes->{
  3.747358861005352*^9, {3.747404111375451*^9, 
   3.7474041116310167`*^9}},ExpressionUUID->"30acb3b3-37ea-48c3-93b5-\
2b69ad5eaf26"],

Cell["\<\

***Make masks for cyto and nuc and bkgrd:\
\>", "Text",
 CellChangeTimes->{{3.747358736356312*^9, 3.747358771146813*^9}, 
   3.747358856684424*^9},ExpressionUUID->"58f8b136-0abf-4cf0-b3a3-\
a41c060dee10"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"bkgmask", " ", "=", " ", 
   RowBox[{"Table", "[", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"Show", "[", "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"dummyMov", "[", 
        RowBox[{"[", "i", "]"}], "]"}], ",", "\[IndentingNewLine]", 
       RowBox[{"Graphics", "[", 
        RowBox[{"{", 
         RowBox[{"White", ",", 
          RowBox[{"Polygon", "[", 
           RowBox[{"mybkgdcoords", "[", 
            RowBox[{"[", 
             RowBox[{"i", ",", 
              RowBox[{"1", ";;", "All"}]}], "]"}], "]"}], "]"}]}], "}"}], 
        "]"}]}], "]"}], ",", "\[IndentingNewLine]", 
     RowBox[{"{", 
      RowBox[{"i", ",", "1", ",", "lenMov", ",", "1"}], "}"}]}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"cytomask", " ", "=", " ", 
   RowBox[{"Table", "[", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"Show", "[", "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"dummyMov", "[", 
        RowBox[{"[", "i", "]"}], "]"}], ",", "\[IndentingNewLine]", 
       RowBox[{"Graphics", "[", 
        RowBox[{"{", 
         RowBox[{"White", ",", 
          RowBox[{"Polygon", "[", 
           RowBox[{"myCytoCoords", "[", 
            RowBox[{"[", 
             RowBox[{"i", ",", 
              RowBox[{"1", ";;", "All"}]}], "]"}], "]"}], "]"}]}], "}"}], 
        "]"}]}], "]"}], ",", "\[IndentingNewLine]", 
     RowBox[{"{", 
      RowBox[{"i", ",", "1", ",", "lenMov", ",", "1"}], "}"}]}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"nucmask", " ", "=", " ", 
   RowBox[{"Table", "[", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"Show", "[", "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"dummyMov", "[", 
        RowBox[{"[", "i", "]"}], "]"}], ",", "\[IndentingNewLine]", 
       RowBox[{"Graphics", "[", 
        RowBox[{"{", 
         RowBox[{"White", ",", 
          RowBox[{"Polygon", "[", 
           RowBox[{"myNucCoords", "[", 
            RowBox[{"[", 
             RowBox[{"i", ",", 
              RowBox[{"1", ";;", "All"}]}], "]"}], "]"}], "]"}]}], "}"}], 
        "]"}]}], "]"}], ",", "\[IndentingNewLine]", 
     RowBox[{"{", 
      RowBox[{"i", ",", "1", ",", "lenMov", ",", "1"}], "}"}]}], "]"}]}], 
  ";"}]}], "Input",
 CellChangeTimes->{{3.747358456349454*^9, 3.747358496143631*^9}, {
  3.747358705246092*^9, 3.747358723781767*^9}, {3.747404121429924*^9, 
  3.747404122698658*^9}},ExpressionUUID->"c5521c8d-8b51-4d71-9188-\
8951c4bd211d"],

Cell["\<\

***Export as data files:\
\>", "Text",
 CellChangeTimes->{{3.747358736356312*^9, 3.747358771146813*^9}, 
   3.747358856684424*^9, {3.747360182943964*^9, 
   3.747360187370117*^9}},ExpressionUUID->"0487ecc6-fcca-4125-be83-\
498e2f8c4ae3"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"bkgmask", ">>", 
    RowBox[{"analysisFolder", "<>", "\"\<_mybkgmask.dat\>\""}]}], ";"}], 
  " "}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"cytomask", ">>", 
   RowBox[{"analysisFolder", "<>", "\"\<_myCytMask.dat\>\""}]}], ";", 
  RowBox[{"nucmask", ">>", 
   RowBox[{"analysisFolder", "<>", "\"\<_myNucMask.dat\>\""}]}], 
  ";"}]}], "Input",
 CellChangeTimes->{{3.747360102547575*^9, 
  3.747360132118778*^9}},ExpressionUUID->"07b159ef-7af6-4cd6-a3f7-\
37b014fe92c8"],

Cell["\<\

***Multiply each mask by the myColImg\
\>", "Text",
 CellChangeTimes->{{3.747358736356312*^9, 3.747358771146813*^9}, 
   3.747358856684424*^9, {3.747360182943964*^9, 3.747360187370117*^9}, {
   3.747360893834208*^9, 
   3.747360921641073*^9}},ExpressionUUID->"80895939-6533-4e69-a910-\
98c3fdbde733"],

Cell[BoxData[{
 RowBox[{"bkgmaskmov", " ", "=", " ", 
  RowBox[{
   RowBox[{"ColorSeparate", "/@", 
    RowBox[{"ImageAdjust", "/@", "\[IndentingNewLine]", 
     RowBox[{"Table", "[", 
      RowBox[{
       RowBox[{"ImageMultiply", "[", 
        RowBox[{
         RowBox[{"myColMov", "[", 
          RowBox[{"[", "i", "]"}], "]"}], ",", 
         RowBox[{"bkgmask", "[", 
          RowBox[{"[", "i", "]"}], "]"}]}], "]"}], ",", 
       RowBox[{"{", 
        RowBox[{"i", ",", "1", ",", "lenMov", ",", "1"}], "}"}]}], "]"}]}]}], 
   "//", "Flatten"}]}], "\[IndentingNewLine]", 
 RowBox[{"cytomaskmov", " ", "=", " ", 
  RowBox[{
   RowBox[{"ColorSeparate", "/@", 
    RowBox[{"ImageAdjust", "/@", "\[IndentingNewLine]", 
     RowBox[{"Table", "[", 
      RowBox[{
       RowBox[{"ImageMultiply", "[", 
        RowBox[{
         RowBox[{"myColMov", "[", 
          RowBox[{"[", "i", "]"}], "]"}], ",", 
         RowBox[{"cytomask", "[", 
          RowBox[{"[", "i", "]"}], "]"}]}], "]"}], ",", 
       RowBox[{"{", 
        RowBox[{"i", ",", "1", ",", "lenMov", ",", "1"}], "}"}]}], "]"}]}]}], 
   "//", "Flatten"}]}], "\[IndentingNewLine]", 
 RowBox[{"nucmaskmov", " ", "=", " ", 
  RowBox[{
   RowBox[{"ColorSeparate", "/@", 
    RowBox[{"ImageAdjust", "/@", "\[IndentingNewLine]", 
     RowBox[{"Table", "[", 
      RowBox[{
       RowBox[{"ImageMultiply", "[", 
        RowBox[{
         RowBox[{"myColMov", "[", 
          RowBox[{"[", "i", "]"}], "]"}], ",", 
         RowBox[{"nucmask", "[", 
          RowBox[{"[", "i", "]"}], "]"}]}], "]"}], ",", 
       RowBox[{"{", 
        RowBox[{"i", ",", "1", ",", "lenMov", ",", "1"}], "}"}]}], "]"}]}]}], 
   "//", "Flatten"}]}]}], "Input",
 CellChangeTimes->{{3.747360102547575*^9, 3.747360132118778*^9}, 
   3.7473609074096403`*^9, {3.747404028490199*^9, 3.747404050212082*^9}, {
   3.747404162330243*^9, 3.7474043613273153`*^9}, {3.747404416992386*^9, 
   3.747404421432633*^9}},ExpressionUUID->"e7cadbeb-5003-4ae3-a2a9-\
d211e55f0817"],

Cell["\<\

***Save these as .tiff movies (to be imported into ParticleTracker code)\
\>", "Text",
 CellChangeTimes->{{3.747358736356312*^9, 3.747358771146813*^9}, 
   3.747358856684424*^9, {3.747360182943964*^9, 3.747360187370117*^9}, {
   3.747360893834208*^9, 
   3.7473609392870092`*^9}},ExpressionUUID->"219aeb2a-f68f-4867-9d5f-\
b50a37ed5a55"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{"Export", "[", 
  RowBox[{
   RowBox[{"analysisFolder", "<>", "\"\<_MaskBkgdMovie.tif\>\""}], ",", 
   "bkgmaskmov"}], "]"}], "\[IndentingNewLine]", 
 RowBox[{"Export", "[", 
  RowBox[{
   RowBox[{"analysisFolder", "<>", "\"\<_MaskCytoMovie.tif\>\""}], ",", 
   "cytomaskmov"}], "]"}], "\[IndentingNewLine]", 
 RowBox[{"Export", "[", 
  RowBox[{
   RowBox[{"analysisFolder", "<>", "\"\<_MaskNucMovie.tif\>\""}], ",", 
   "nucmaskmov"}], "]"}]}], "Input",
 CellChangeTimes->{{3.747360102547575*^9, 3.747360132118778*^9}, 
   3.7473609074096403`*^9, {3.747404427572363*^9, 3.747404456198868*^9}, {
   3.747404518976117*^9, 
   3.747404596777772*^9}},ExpressionUUID->"1b76ed10-3cc4-4373-b86a-\
f14c83919666"],

Cell[BoxData["\<\"/Users/ccialek/Desktop/beautiful_cell/Analysis/beautiful \
vid MAX_TA10b_BG_MaskBkgdMovie.tif\"\>"], "Output",
 CellChangeTimes->{3.747404462911804*^9, 3.747404554712871*^9, 
  3.747404598067795*^9},ExpressionUUID->"602a8e28-a3b8-4368-a69f-\
9a5b65d17ad1"],

Cell[BoxData["\<\"/Users/ccialek/Desktop/beautiful_cell/Analysis/beautiful \
vid MAX_TA10b_BG_MaskCytoMovie.tif\"\>"], "Output",
 CellChangeTimes->{3.747404462911804*^9, 3.747404554712871*^9, 
  3.747404598193993*^9},ExpressionUUID->"6f8710bd-55f8-46c6-a9fe-\
2730aa2bd1f4"],

Cell[BoxData["\<\"/Users/ccialek/Desktop/beautiful_cell/Analysis/beautiful \
vid MAX_TA10b_BG_MaskNucMovie.tif\"\>"], "Output",
 CellChangeTimes->{3.747404462911804*^9, 3.747404554712871*^9, 
  3.747404598312977*^9},ExpressionUUID->"f6f011e9-6324-41a7-85df-\
74563108a560"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["Code Development:", "Section",
 CellChangeTimes->{{3.747360487861335*^9, 3.747360490450899*^9}, {
  3.747404655048461*^9, 
  3.747404656772973*^9}},ExpressionUUID->"c702d346-881c-42eb-8843-\
20e5c8e05e70"],

Cell[BoxData[
 RowBox[{
  RowBox[{"mymaskfile", " ", "=", " ", 
   RowBox[{"<<", "\"\</Users/ccialek/Desktop/test/maskTest.dat\>\""}]}], 
  ";"}]], "Input",
 CellChangeTimes->{{3.747352962087472*^9, 3.7473529839186907`*^9}, {
  3.7473531000478687`*^9, 
  3.747353100239353*^9}},ExpressionUUID->"f84decef-167e-482d-84ff-\
c4beac912c21"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"lenMov", " ", "=", " ", 
  RowBox[{
   RowBox[{"mymaskfile", "[", 
    RowBox[{"[", 
     RowBox[{"1", ",", "All", ",", "1", ",", "All"}], "]"}], "]"}], "//", 
   "Length"}]}]], "Input",
 CellChangeTimes->{{3.747356376315713*^9, 
  3.7473563992682123`*^9}},ExpressionUUID->"15c614ba-3a34-4fdc-95aa-\
afa37029fa19"],

Cell[BoxData["20"], "Output",
 CellChangeTimes->{{3.747356399515221*^9, 
  3.747356403336761*^9}},ExpressionUUID->"b557182d-d55b-4337-b2ec-\
77bd777aa915"]
}, Open  ]],

Cell[BoxData[{
 RowBox[{"lenMov", " ", "=", " ", 
  RowBox[{
   RowBox[{"mymaskfile", "[", 
    RowBox[{"[", 
     RowBox[{"1", ",", "All", ",", "1", ",", "All"}], "]"}], "]"}], "//", 
   "Length"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"mybkgdcoords", " ", "=", " ", 
   RowBox[{"mymaskfile", "[", 
    RowBox[{"[", 
     RowBox[{"1", ",", "All", ",", "1", ",", "All"}], "]"}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"myCytoCoords", " ", "=", " ", 
   RowBox[{"mymaskfile", "[", 
    RowBox[{"[", 
     RowBox[{"2", ",", "All", ",", "1", ",", "All"}], "]"}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"myNucCoords", " ", "=", " ", 
   RowBox[{"mymaskfile", "[", 
    RowBox[{"[", 
     RowBox[{"3", ",", "All", ",", "1", ",", "All"}], "]"}], "]"}]}], 
  ";"}]}], "Input",
 CellChangeTimes->{
  3.747352980771379*^9, {3.747353094767415*^9, 3.747353112872828*^9}, {
   3.747353205072022*^9, 3.747353244825844*^9}, {3.7473533010623302`*^9, 
   3.7473533110832453`*^9}, {3.747358544926447*^9, 3.74735861605863*^9}, {
   3.7473587971761703`*^9, 
   3.7473587980055313`*^9}},ExpressionUUID->"1d9f6e69-d3f8-4350-8ecd-\
0ebce1c9004f"],

Cell[BoxData[
 RowBox[{
  RowBox[{"tempDummyImg", " ", "=", " ", 
   RowBox[{"Image", "[", 
    RowBox[{
     RowBox[{"Table", "[", 
      RowBox[{"0", ",", 
       RowBox[{"512", "^", "2"}], ",", "1"}], "]"}], "//", 
     RowBox[{
      RowBox[{"Partition", "[", 
       RowBox[{"#", ",", "512"}], "]"}], "&"}]}], "]"}]}], ";"}]], "Input",
 CellChangeTimes->{{3.747354243408532*^9, 3.7473542818155327`*^9}, {
   3.7473546486215267`*^9, 3.74735473606888*^9}, 
   3.747355144315476*^9},ExpressionUUID->"dc3d319a-fa45-4245-bb99-\
ae71c05a78a8"],

Cell[BoxData[
 RowBox[{"Graphics", "[", 
  RowBox[{"{", 
   RowBox[{"Pink", ",", 
    RowBox[{"Polygon", "[", 
     RowBox[{"mybkgdcoords", "[", 
      RowBox[{"[", "1", "]"}], "]"}], "]"}]}], "}"}], "]"}]], "Input",
 CellChangeTimes->{{3.7473533201498957`*^9, 3.7473533682920027`*^9}, {
  3.74735487031833*^9, 3.747354903834921*^9}, {3.7473549427248793`*^9, 
  3.747354952186391*^9}, {3.74735507560175*^9, 
  3.747355117569919*^9}},ExpressionUUID->"23365ff3-cafc-4443-86e5-\
277f46a420ee"],

Cell[BoxData[
 RowBox[{"bkgmask", " ", "=", " ", 
  RowBox[{"Show", "[", " ", 
   RowBox[{
    RowBox[{"Image", "[", 
     RowBox[{
      RowBox[{"Table", "[", 
       RowBox[{"0", ",", 
        RowBox[{"512", "^", "2"}], ",", "1"}], "]"}], "//", 
      RowBox[{
       RowBox[{"Partition", "[", 
        RowBox[{"#", ",", "512"}], "]"}], "&"}]}], "]"}], ",", 
    RowBox[{"Graphics", "[", 
     RowBox[{"{", 
      RowBox[{"White", ",", 
       RowBox[{"Polygon", "[", 
        RowBox[{"mybkgdcoords", "[", 
         RowBox[{"[", "1", "]"}], "]"}], "]"}]}], "}"}], "]"}]}], 
   "]"}]}]], "Input",
 CellChangeTimes->{{3.747355190576342*^9, 3.7473552151320744`*^9}, {
  3.747355300326047*^9, 3.74735532015231*^9}, {3.7473553854941063`*^9, 
  3.747355387446061*^9}, {3.747355424060494*^9, 3.7473554679893627`*^9}, {
  3.747355507003263*^9, 3.7473555188665123`*^9}, {3.747355735873118*^9, 
  3.747355762518345*^9}, {3.747355871023326*^9, 3.747355884723529*^9}, {
  3.747356255267955*^9, 
  3.7473562965296097`*^9}},ExpressionUUID->"5f99895c-cc1d-4b3d-b440-\
d3604ffd789c"],

Cell[BoxData[
 RowBox[{
  RowBox[{"dummyMov", "=", 
   RowBox[{"Table", "[", 
    RowBox[{
     RowBox[{"Image", "[", 
      RowBox[{
       RowBox[{"Table", "[", 
        RowBox[{"0", ",", 
         RowBox[{"512", "^", "2"}], ",", "1"}], "]"}], "//", 
       RowBox[{
        RowBox[{"Partition", "[", 
         RowBox[{"#", ",", "512"}], "]"}], "&"}]}], "]"}], ",", 
     RowBox[{"{", 
      RowBox[{"j", ",", "1", ",", "lenMov", ",", "1"}], "}"}]}], "]"}]}], 
  ";"}]], "Input",
 CellChangeTimes->{{3.7473564336278057`*^9, 
  3.747356721622422*^9}},ExpressionUUID->"f296d8aa-de6c-410c-b5d0-\
f35c8a952dc6"],

Cell[BoxData[
 RowBox[{
  RowBox[{"Table", "[", 
   RowBox[{
    RowBox[{"Graphics", "[", 
     RowBox[{"{", 
      RowBox[{"Pink", ",", 
       RowBox[{"Polygon", "[", 
        RowBox[{"mybkgdcoords", "[", 
         RowBox[{"[", 
          RowBox[{"i", ",", 
           RowBox[{"1", ";;", "All"}]}], "]"}], "]"}], "]"}]}], "}"}], "]"}], 
    ",", 
    RowBox[{"{", 
     RowBox[{"i", ",", "1", ",", "lenMov", ",", "1"}], "}"}]}], "]"}], 
  ";"}]], "Input",
 CellChangeTimes->{{3.747357009658928*^9, 3.747357021147614*^9}, {
   3.747357070602124*^9, 3.747357147859551*^9}, {3.747357187519837*^9, 
   3.747357260373673*^9}, {3.7473572971600437`*^9, 3.747357322760475*^9}, 
   3.747357353562202*^9, 
   3.747358532299816*^9},ExpressionUUID->"1cc64417-2d57-4cf6-aabf-\
11832232638f"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"Graphics", "[", 
   RowBox[{"{", 
    RowBox[{"Pink", ",", 
     RowBox[{"Polygon", "[", 
      RowBox[{"mybkgdcoords", "[", 
       RowBox[{"[", 
        RowBox[{"1", ",", "All"}], "]"}], "]"}], "]"}]}], "}"}], "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{"bkgmask", " ", "=", " ", 
  RowBox[{"Show", "[", " ", 
   RowBox[{
    RowBox[{"Image", "[", 
     RowBox[{
      RowBox[{"Table", "[", 
       RowBox[{"0", ",", 
        RowBox[{"512", "^", "2"}], ",", "1"}], "]"}], "//", 
      RowBox[{
       RowBox[{"Partition", "[", 
        RowBox[{"#", ",", "512"}], "]"}], "&"}]}], "]"}], ",", 
    RowBox[{"Graphics", "[", 
     RowBox[{"{", 
      RowBox[{"White", ",", 
       RowBox[{"Polygon", "[", 
        RowBox[{"mybkgdcoords", "[", 
         RowBox[{"[", 
          RowBox[{"1", ";;", "All"}], "]"}], "]"}], "]"}]}], "}"}], "]"}]}], 
   "]"}]}], "\[IndentingNewLine]"}], "Input",
 CellChangeTimes->{{3.747356956223791*^9, 3.747356956701089*^9}, {
   3.747357476953648*^9, 3.747357479775083*^9}, 3.747358534747563*^9, {
   3.747358852062792*^9, 3.747358852234685*^9}, 
   3.747358883686079*^9},ExpressionUUID->"507ca378-8fdb-4380-ad90-\
4ac215d1f46f"]
}, Closed]]
},
WindowSize->{1186, 1064},
WindowMargins->{{Automatic, 0}, {Automatic, 0}},
FrontEndVersion->"11.1 for Mac OS X x86 (32-bit, 64-bit Kernel) (April 18, \
2017)",
StyleDefinitions->"Default.nb"
]
(* End of Notebook Content *)

(* Internal cache information *)
(*CellTagsOutline
CellTagsIndex->{}
*)
(*CellTagsIndex
CellTagsIndex->{}
*)
(*NotebookFileOutline
Notebook[{
Cell[400, 13, 150, 3, 64, "Section", "ExpressionUUID" -> \
"554333c2-9034-4273-9a53-7e4fcfa902ce"],
Cell[CellGroupData[{
Cell[575, 20, 154, 3, 50, "Section", "ExpressionUUID" -> \
"4dd7886e-c09d-443d-b3af-bba192c6b406"],
Cell[CellGroupData[{
Cell[754, 27, 749, 11, 44, "Subsection", "ExpressionUUID" -> \
"7f34d2ac-66ea-485a-bd38-08adf8a00461",
 InitializationCell->True],
Cell[1506, 40, 77659, 1582, 4207, "Input", "ExpressionUUID" -> \
"2dcb32b9-3690-40bc-a30b-86bd0acdb948"]
}, Closed]]
}, Closed]],
Cell[CellGroupData[{
Cell[79214, 1628, 208, 4, 50, "Section", "ExpressionUUID" -> \
"f29f9f9f-75d6-438e-bfa8-1610bb89a37a"],
Cell[CellGroupData[{
Cell[79447, 1636, 1022, 23, 75, "Input", "ExpressionUUID" -> \
"c86740af-39b6-44e1-8647-fbe2c187e361"],
Cell[80472, 1661, 367, 6, 32, "Output", "ExpressionUUID" -> \
"c710d32b-a5b5-462d-86e1-1be23303c85e"]
}, Open  ]],
Cell[80854, 1670, 1526, 44, 81, "Input", "ExpressionUUID" -> \
"5336cb6a-1bae-4c4d-9d35-5b49db48b643"],
Cell[82383, 1716, 655, 20, 32, "Input", "ExpressionUUID" -> \
"c16d9c29-9349-4c47-b374-62e5f591d461"],
Cell[83041, 1738, 360, 8, 49, "Text", "ExpressionUUID" -> \
"5179119b-1582-4c9b-b58b-186fd8cd1cc4"],
Cell[83404, 1748, 321, 7, 32, "Input", "ExpressionUUID" -> \
"214cf102-ac97-4701-91db-aa4a6c302305"],
Cell[83728, 1757, 222, 7, 49, "Text", "ExpressionUUID" -> \
"37069f8d-1bef-4610-91d7-c4ba346de32a"],
Cell[83953, 1766, 317, 9, 32, "Input", "ExpressionUUID" -> \
"dcafb01d-4fc1-43ca-b044-66ca5d6fc7d2"],
Cell[84273, 1777, 211, 6, 49, "Text", "ExpressionUUID" -> \
"e4c7d374-e9be-4b3c-9ff7-f0e5e8950d78"],
Cell[84487, 1785, 1485, 44, 117, "Input", "ExpressionUUID" -> \
"30acb3b3-37ea-48c3-93b5-2b69ad5eaf26"],
Cell[85975, 1831, 215, 6, 49, "Text", "ExpressionUUID" -> \
"85cd9869-bebe-4993-bd41-169b687ef6f3"],
Cell[86193, 1839, 2478, 64, 327, "Input", "ExpressionUUID" -> \
"c5521c8d-8b51-4d71-9188-8951c4bd211d"],
Cell[88674, 1905, 248, 7, 49, "Text", "ExpressionUUID" -> \
"21675fc7-0080-4ae6-9a66-80fd62160aa7"],
Cell[88925, 1914, 521, 14, 75, "Input", "ExpressionUUID" -> \
"07b159ef-7af6-4cd6-a3f7-37b014fe92c8"],
Cell[89449, 1930, 311, 8, 49, "Text", "ExpressionUUID" -> \
"2646ecb8-8056-40c7-8211-f8508ae49e90"],
Cell[89763, 1940, 1988, 50, 138, "Input", "ExpressionUUID" -> \
"a35e57da-a35b-44c0-9da1-3bc5e8aac6aa"],
Cell[91754, 1992, 348, 8, 49, "Text", "ExpressionUUID" -> \
"6dfffe43-a453-42a3-9b03-c69e0e3f8930"],
Cell[CellGroupData[{
Cell[92127, 2004, 729, 17, 75, "Input", "ExpressionUUID" -> \
"1b76ed10-3cc4-4373-b86a-f14c83919666"],
Cell[92859, 2023, 274, 4, 32, "Output", "ExpressionUUID" -> \
"602a8e28-a3b8-4368-a69f-9a5b65d17ad1"],
Cell[93136, 2029, 274, 4, 32, "Output", "ExpressionUUID" -> \
"6f8710bd-55f8-46c6-a9fe-2730aa2bd1f4"],
Cell[93413, 2035, 273, 4, 32, "Output", "ExpressionUUID" -> \
"f6f011e9-6324-41a7-85df-74563108a560"]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[93735, 2045, 211, 4, 64, "Section", "ExpressionUUID" -> \
"d1ef85b7-357d-4cfb-983f-fbc0eaba60ce"],
Cell[93949, 2051, 335, 8, 32, "Input", "ExpressionUUID" -> \
"b08bece7-2ba3-462c-a3aa-b05fe523315e"],
Cell[CellGroupData[{
Cell[94309, 2063, 338, 9, 32, "Input", "ExpressionUUID" -> \
"b4cc50fa-382e-411d-9114-7b4599656a31"],
Cell[94650, 2074, 155, 3, 32, "Output", "ExpressionUUID" -> \
"121a5597-812a-4c4d-9d8f-1b2732bfae5e"]
}, Open  ]],
Cell[94820, 2080, 1181, 31, 96, "Input", "ExpressionUUID" -> \
"0264cbc3-0c9d-49fd-9fc9-7a3fb92d001c"],
Cell[96004, 2113, 542, 14, 32, "Input", "ExpressionUUID" -> \
"4ef6af82-fca7-4a1b-a14d-ba01b6f47404"],
Cell[96549, 2129, 490, 11, 32, "Input", "ExpressionUUID" -> \
"bb8abb24-b082-451f-8857-9cf0f19550eb"],
Cell[97042, 2142, 1069, 26, 32, "Input", "ExpressionUUID" -> \
"6fc35930-4c58-4127-ad34-44878e1eae95"],
Cell[98114, 2170, 609, 18, 32, "Input", "ExpressionUUID" -> \
"ad7a7bcc-f3fe-460e-8917-d80a2daef7aa"],
Cell[98726, 2190, 780, 21, 32, "Input", "ExpressionUUID" -> \
"7c5298e9-25d1-4524-83ac-0da782bf02cf"],
Cell[99509, 2213, 1201, 33, 75, "Input", "ExpressionUUID" -> \
"78b8961e-abf7-410a-b31c-ec8cf35f7541"]
}, Closed]]
}
]
*)

