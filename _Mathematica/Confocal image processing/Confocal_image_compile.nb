(* Content-type: application/vnd.wolfram.mathematica *)

(*** Wolfram Notebook File ***)
(* http://www.wolfram.com/nb *)

(* CreatedBy='Mathematica 12.0' *)

(*CacheID: 234*)
(* Internal cache information:
NotebookFileLineBreakTest
NotebookFileLineBreakTest
NotebookDataPosition[       158,          7]
NotebookDataLength[     30134,        734]
NotebookOptionsPosition[     25643,        654]
NotebookOutlinePosition[     25982,        669]
CellTagsIndexPosition[     25939,        666]
WindowFrame->Normal*)

(* Beginning of Notebook Content *)
Notebook[{

Cell[CellGroupData[{
Cell["Compiling confocal images into one .tif stack ", "Subsection",
 CellChangeTimes->{{3.7921453782055197`*^9, 
  3.792145391303665*^9}},ExpressionUUID->"21d36d94-b570-47d6-b58b-\
cff4746375ef"],

Cell[CellGroupData[{

Cell["Functions", "Subsubsection",
 CellChangeTimes->{{3.7921467735183697`*^9, 
  3.7921467749114027`*^9}},ExpressionUUID->"b711486f-6e0a-4f6c-84cd-\
714f2cec909d"],

Cell["Note: The FILE needs to be a myFileNames[[file]] format !!! ", "Text",
 CellChangeTimes->{{3.79214797930655*^9, 
  3.792147992811541*^9}},ExpressionUUID->"6d99413f-5010-42de-95e6-\
87ef70bbfce9"],

Cell[BoxData[
 RowBox[{
  RowBox[{"MyImportMean", "[", 
   RowBox[{"ext_", ",", " ", "folder_", ",", "  ", "file_"}], "]"}], " ", ":=",
   " ", 
  RowBox[{"Module", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"imgs", ",", " ", "means"}], "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"imgs", " ", "=", " ", 
      RowBox[{"Import", "/@", 
       RowBox[{"FileNames", "[", " ", 
        RowBox[{
         RowBox[{"\"\<*\>\"", "<>", "file", "<>", " ", "ext"}], ",", " ", 
         "folder"}], "]"}]}]}], ";", "\n", 
     RowBox[{"means", " ", "=", " ", 
      RowBox[{"Table", "[", "  ", 
       RowBox[{
        RowBox[{"Mean", "[", 
         RowBox[{"imgs", "[", 
          RowBox[{"[", 
           RowBox[{"All", ",", "z"}], "]"}], "]"}], "]"}], " ", ",", " ", 
        RowBox[{"{", 
         RowBox[{"z", ",", "1", ",", 
          RowBox[{"Length", "@", 
           RowBox[{"imgs", "[", 
            RowBox[{"[", "1", "]"}], "]"}]}]}], "}"}]}], "]"}]}]}]}], 
   "\[IndentingNewLine]", "]"}]}]], "Input",
 CellChangeTimes->{{3.792146511149824*^9, 3.7921466870690527`*^9}, {
  3.7921479372870083`*^9, 3.7921479637451067`*^9}, {3.7921480001388187`*^9, 
  3.792148007189063*^9}},
 CellLabel->"In[51]:=",ExpressionUUID->"123ca3ac-e170-43ce-8af1-911880e66476"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Set parameters: ", "Subsubsection",
 CellChangeTimes->{{3.7921453985782127`*^9, 
  3.792145411384623*^9}},ExpressionUUID->"452dc843-d8c7-43dd-96e2-\
79bbb59b80f4"],

Cell[BoxData[
 RowBox[{
  RowBox[{"(*", 
   RowBox[{
    RowBox[{
    "myFolder", " ", "=", " ", 
     "\"\</Volumes/BITTY/Confocal \
images/20200225_TL_NT_dy405-aRCK_N-GFP-LacZ_Cy3-smF-smiFISH_Cy5-MS5-smFISH/\>\
\""}], ";"}], " ", "*)"}], "\[IndentingNewLine]", 
  RowBox[{
   RowBox[{
   "myFolder", " ", "=", " ", 
    "\"\</Volumes/BITTY/Confocal \
images/20200302_TA_dy405-aRCK_N-GFP-Ago2_Cy3-smF-smiFISH_Cy5-MS5-smFISH/\>\""}\
], " ", ";"}]}]], "Input",
 CellChangeTimes->{{3.792145422948365*^9, 3.792145436429628*^9}, {
  3.792147306385491*^9, 3.7921473067460737`*^9}, {3.792258166679942*^9, 
  3.792258210454328*^9}},
 CellLabel->"In[53]:=",ExpressionUUID->"7dfe137e-df8c-42d2-8b8b-660f0e4ee463"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"myExportFolder", " ", "=", " ", 
  RowBox[{"CreateDirectory", "[", 
   RowBox[{
    RowBox[{"StringTake", "[", " ", 
     RowBox[{"myFolder", ",", 
      RowBox[{";;", 
       RowBox[{"-", "2"}]}]}], "]"}], " ", "<>", " ", "\"\<_Reorder/\>\""}], 
   "]"}]}]], "Input",
 CellChangeTimes->{{3.792147150485874*^9, 3.7921471703888693`*^9}, {
   3.792147200393344*^9, 3.7921472383083076`*^9}, 3.792147284474378*^9, {
   3.792147369283175*^9, 3.792147378605332*^9}},
 CellLabel->"In[54]:=",ExpressionUUID->"bbc767cd-e772-4556-807a-880a1bde893d"],

Cell[BoxData["\<\"/Volumes/BITTY/Confocal \
images/20200302_TA_dy405-aRCK_N-GFP-Ago2_Cy3-smF-smiFISH_Cy5-MS5-smFISH_\
Reorder/\"\>"], "Output",
 CellChangeTimes->{
  3.79214722416576*^9, {3.792147254920024*^9, 3.7921473087648087`*^9}, 
   3.792147379557231*^9, 3.79214801582614*^9, 3.792148103177102*^9, 
   3.792148585350479*^9, 3.792148652658843*^9, 3.792148715920163*^9, 
   3.7921489031719637`*^9, 3.792149212410192*^9, 3.792258224906061*^9},
 CellLabel->"Out[54]=",ExpressionUUID->"c7b6c72f-80c3-4427-8bf7-d52e78d1f0b8"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"myFolder", "<>", "\"\<_Reorder/\>\""}]], "Input",
 CellLabel->"In[55]:=",ExpressionUUID->"8e4a112d-1d38-4096-bb39-72f0394a1535"],

Cell[BoxData["\<\"/Volumes/BITTY/Confocal \
images/20200302_TA_dy405-aRCK_N-GFP-Ago2_Cy3-smF-smiFISH_Cy5-MS5-smFISH/_\
Reorder/\"\>"], "Output",
 CellChangeTimes->{3.7921592786137114`*^9, 3.7922582249147577`*^9},
 CellLabel->"Out[55]=",ExpressionUUID->"283b7ed4-9ad7-40ef-862f-05f472a4d2aa"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"FileExistsQ", "[", 
  RowBox[{"myFolder", "<>", "\"\<_Reorder/\>\""}], "]"}]], "Input",
 CellChangeTimes->{{3.792159227318699*^9, 3.7921592594824667`*^9}},
 CellLabel->"In[56]:=",ExpressionUUID->"9d082adf-a039-456f-8c02-85148cfe470b"],

Cell[BoxData["False"], "Output",
 CellChangeTimes->{{3.792159242638751*^9, 3.79215926635196*^9}, 
   3.792258224966886*^9},
 CellLabel->"Out[56]=",ExpressionUUID->"08207733-4d6a-4a1c-831e-3639a7e488a9"]
}, Open  ]],

Cell[BoxData[
 RowBox[{"(*", 
  RowBox[{
   RowBox[{
   "WRITE", " ", "a", " ", "code", " ", "for", " ", "making", " ", "teh", " ",
     "export", " ", "folder", " ", "only", " ", "if", " ", "it", " ", 
    RowBox[{"doesn", "'"}], "t", " ", "exist", " ", "\[IndentingNewLine]", 
    "myExportFolder"}], " ", "=", " ", 
   RowBox[{"If", "[", "\[IndentingNewLine]", 
    RowBox[{"CreateDirectory", "[", 
     RowBox[{
      RowBox[{"StringTake", "[", " ", 
       RowBox[{"myFolder", ",", 
        RowBox[{";;", 
         RowBox[{"-", "2"}]}]}], "]"}], " ", "<>", " ", "\"\<_Reorder/\>\""}],
      "]"}]}]}]}]], "Input",
 CellChangeTimes->{{3.79215918098158*^9, 3.792159226209886*^9}, {
  3.7922582351534863`*^9, 3.7922582528483553`*^9}},
 EmphasizeSyntaxErrors->
  True,ExpressionUUID->"457ed1a7-2143-48be-aec8-385a5f50e329"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"myFiles", " ", "=", "  ", 
   RowBox[{"FileNames", "[", 
    RowBox[{"\"\<*T0_C0.tif\>\"", ",", "myFolder"}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{"myFileNames", " ", "=", " ", 
  RowBox[{"Table", "[", " ", 
   RowBox[{
    RowBox[{"StringTake", "[", " ", 
     RowBox[{
      RowBox[{"myFiles", " ", "[", 
       RowBox[{"[", "file", "]"}], "]"}], " ", ",", 
      RowBox[{
       RowBox[{"-", "31"}], ";;", 
       RowBox[{"-", "28"}]}]}], "]"}], " ", ",", 
    RowBox[{"{", 
     RowBox[{"file", ",", "1", ",", 
      RowBox[{"Length", "@", "myFiles"}], ",", " ", "1"}], "}"}]}], 
   "]"}]}]}], "Input",
 CellChangeTimes->{{3.792145543795389*^9, 3.792145693325996*^9}, {
  3.792146127028944*^9, 3.792146129219103*^9}},
 CellLabel->"In[57]:=",ExpressionUUID->"711036bd-543f-4be6-9434-b6a4a869f415"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"\<\"TA01\"\>", ",", "\<\"TA03\"\>", ",", "\<\"TA04\"\>", 
   ",", "\<\"TA05\"\>", ",", "\<\"TA07\"\>", ",", "\<\"TA08\"\>", 
   ",", "\<\"TA09\"\>", ",", "\<\"TA10\"\>", ",", "\<\"TA11\"\>", 
   ",", "\<\"TA12\"\>", ",", "\<\"TA14\"\>", ",", "\<\"TA15\"\>", 
   ",", "\<\"TA16\"\>", ",", "\<\"TA17\"\>", ",", "\<\"TA19\"\>", 
   ",", "\<\"TA20\"\>", ",", "\<\"TA21\"\>", ",", "\<\"TA22\"\>", 
   ",", "\<\"TA23\"\>", ",", "\<\"TA24\"\>", ",", "\<\"TA25\"\>", 
   ",", "\<\"TA31\"\>", ",", "\<\"TA32\"\>", ",", "\<\"TA33\"\>", 
   ",", "\<\"TA34\"\>", ",", "\<\"TA35\"\>", ",", "\<\"TA36\"\>", 
   ",", "\<\"TA38\"\>", ",", "\<\"TA39\"\>", ",", "\<\"TA40\"\>", 
   ",", "\<\"TA41\"\>", ",", "\<\"TA42\"\>", ",", "\<\"TA43\"\>", 
   ",", "\<\"TA44\"\>", ",", "\<\"TA45\"\>", ",", "\<\"TA46\"\>", 
   ",", "\<\"TA47\"\>", ",", "\<\"TA48\"\>", ",", "\<\"TA49\"\>", 
   ",", "\<\"TA50\"\>", ",", "\<\"TA51\"\>", ",", "\<\"TA54\"\>", 
   ",", "\<\"TA55\"\>", ",", "\<\"TA56\"\>", ",", "\<\"TA58\"\>", 
   ",", "\<\"TA59\"\>", ",", "\<\"TA60\"\>", ",", "\<\"TA61\"\>", 
   ",", "\<\"TA62\"\>", ",", "\<\"TA71\"\>", ",", "\<\"TA73\"\>", 
   ",", "\<\"TA74\"\>", ",", "\<\"TA75\"\>", ",", "\<\"TA76\"\>", 
   ",", "\<\"TA77\"\>", ",", "\<\"TA78\"\>", ",", "\<\"TA79\"\>", 
   ",", "\<\"TA80\"\>", ",", "\<\"TA81\"\>", ",", "\<\"TA82\"\>", 
   ",", "\<\"TA85\"\>", ",", "\<\"TA86\"\>", ",", "\<\"TA87\"\>", 
   ",", "\<\"TA88\"\>", ",", "\<\"TA89\"\>", ",", "\<\"TA91\"\>", 
   ",", "\<\"TA92\"\>", ",", "\<\"TA93\"\>"}], "}"}]], "Output",
 CellChangeTimes->{{3.792145545797387*^9, 3.792145639430929*^9}, {
   3.792145684911563*^9, 3.792145693665474*^9}, 3.792146090710927*^9, 
   3.792146130011524*^9, {3.792147271628708*^9, 3.7921472760044203`*^9}, 
   3.792147310750778*^9, 3.792148024486931*^9, {3.792148585401495*^9, 
   3.792148597876129*^9}, 3.792148652719508*^9, 3.792148715972609*^9, 
   3.792148903226255*^9, 3.7921492137922697`*^9, 3.792258225033345*^9},
 CellLabel->"Out[58]=",ExpressionUUID->"28e67549-235f-499f-bd10-fc335650159d"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["Avg ch0 ", "Subsubsection",
 CellChangeTimes->{{3.792145773429447*^9, 
  3.79214577664439*^9}},ExpressionUUID->"1213a38a-75a1-43ea-8c98-\
93d2443552f1"],

Cell[BoxData[
 RowBox[{
  RowBox[{"n", "=", "1"}], ";"}]], "Input",
 CellChangeTimes->{{3.792148046765649*^9, 3.792148048871336*^9}},
 CellLabel->"In[59]:=",ExpressionUUID->"cecc41fc-aa4d-43e8-abe8-22556d26ab7f"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"ext", " ", "=", " ", "\"\<*C0.tif\>\""}], ";"}], 
  " "}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"folder", " ", "=", "  ", "myFolder"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"file", " ", "=", "  ", 
    RowBox[{"myFileNames", "[", 
     RowBox[{"[", "n", "]"}], "]"}]}], ";"}], " "}]}], "Input",
 CellLabel->"In[60]:=",ExpressionUUID->"9f742ec3-9a24-4b2c-8df3-626cf3d1d961"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"imgs", " ", "=", " ", 
   RowBox[{"Import", "/@", 
    RowBox[{"FileNames", "[", " ", 
     RowBox[{
      RowBox[{"\"\<*\>\"", "<>", "file", "<>", " ", "ext"}], ",", " ", 
      "folder"}], "]"}]}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{"means", " ", "=", " ", 
   RowBox[{"Table", "[", "  ", 
    RowBox[{
     RowBox[{"Mean", "[", 
      RowBox[{"imgs", "[", 
       RowBox[{"[", 
        RowBox[{"All", ",", "z"}], "]"}], "]"}], "]"}], " ", ",", " ", 
     RowBox[{"{", 
      RowBox[{"z", ",", "1", ",", 
       RowBox[{"Length", "@", 
        RowBox[{"imgs", "[", 
         RowBox[{"[", "1", "]"}], "]"}]}]}], "}"}]}], "]"}]}], "  ", 
  ";"}]}], "Input",
 CellChangeTimes->{{3.79214923794484*^9, 3.792149356043334*^9}},
 CellLabel->"In[63]:=",ExpressionUUID->"8f96da9b-6e33-4570-b2c7-5b1b298359f7"],

Cell[BoxData[
 RowBox[{"(*", 
  RowBox[{
   RowBox[{"imgsc0", " ", "=", " ", 
    RowBox[{"Import", "/@", 
     RowBox[{"FileNames", "[", " ", 
      RowBox[{
       RowBox[{"\"\<*\>\"", "<>", 
        RowBox[{"myFileNames", "[", 
         RowBox[{"[", "file", "]"}], "]"}], " ", "<>", " ", 
        "\"\<*C0.tif\>\""}], ",", " ", "myFolder"}], "]"}]}]}], 
   ";"}]}]], "Input",
 CellChangeTimes->{{3.792145933007186*^9, 3.792145940529682*^9}, {
  3.792146170598888*^9, 3.7921461911353893`*^9}, {3.792146265352612*^9, 
  3.792146299431686*^9}, {3.792146745141543*^9, 3.792146745179233*^9}},
 EmphasizeSyntaxErrors->True,
 CellLabel->"In[65]:=",ExpressionUUID->"78e0ec4f-f59f-44f9-837e-0cf78d30ad3e"],

Cell[BoxData[
 RowBox[{"(*", 
  RowBox[{
   RowBox[{"meansc0", " ", "=", " ", 
    RowBox[{"Table", "[", "  ", 
     RowBox[{
      RowBox[{"Mean", "[", 
       RowBox[{"imgsc0", "[", 
        RowBox[{"[", 
         RowBox[{"All", ",", "z"}], "]"}], "]"}], "]"}], " ", ",", " ", 
      RowBox[{"{", 
       RowBox[{"z", ",", "1", ",", 
        RowBox[{"Length", "@", 
         RowBox[{"imgsc0", "[", 
          RowBox[{"[", "1", "]"}], "]"}]}]}], "}"}]}], "]"}]}], 
   ";"}]}]], "Input",
 CellChangeTimes->{{3.792146330950173*^9, 3.792146438298711*^9}, {
  3.792146743181411*^9, 3.7921467432334623`*^9}},
 EmphasizeSyntaxErrors->True,
 CellLabel->"In[65]:=",ExpressionUUID->"a11fbb1e-7a1f-4f74-8dfc-4cce60354c91"],

Cell[BoxData[
 RowBox[{
  RowBox[{"meansc0", " ", "=", " ", 
   RowBox[{"MyImportMean", "[", 
    RowBox[{"\"\<*C0.tif\>\"", ",", " ", "myFolder", ",", " ", 
     RowBox[{"myFileNames", "[", 
      RowBox[{"[", "n", "]"}], "]"}]}], "]"}]}], ";"}]], "Input",
 CellChangeTimes->{{3.792148033690164*^9, 3.792148062483403*^9}},
 CellLabel->"In[65]:=",ExpressionUUID->"365ccc4e-de5c-438e-8554-0e2080e76c6a"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Avg ch1", "Subsubsection",
 CellChangeTimes->{{3.792145773429447*^9, 
  3.7921457844429493`*^9}},ExpressionUUID->"30c8e0f9-475b-4fdf-a723-\
fdf4e61452ed"],

Cell[BoxData[
 RowBox[{
  RowBox[{"meansc1", " ", "=", " ", 
   RowBox[{"MyImportMean", "[", 
    RowBox[{"\"\<*C1.tif\>\"", ",", " ", "myFolder", ",", 
     RowBox[{"myFileNames", "[", 
      RowBox[{"[", "n", "]"}], "]"}]}], "]"}]}], ";"}]], "Input",
 CellChangeTimes->{{3.7921467478736067`*^9, 3.792146749555215*^9}, 
   3.7921480531112137`*^9},
 CellLabel->"In[66]:=",ExpressionUUID->"e8b1fec4-21d4-462b-b7d1-00aee2a8e5cf"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Avg ch2 ", "Subsubsection",
 CellChangeTimes->{{3.792145773429447*^9, 
  3.79214578582677*^9}},ExpressionUUID->"3bf18518-83b0-4cb6-b6e5-\
98c5301a2662"],

Cell[BoxData[
 RowBox[{
  RowBox[{"meansc2", " ", "=", " ", 
   RowBox[{"MyImportMean", "[", 
    RowBox[{"\"\<*C2.tif\>\"", ",", " ", "myFolder", ",", 
     RowBox[{"myFileNames", "[", 
      RowBox[{"[", "n", "]"}], "]"}]}], "]"}]}], ";"}]], "Input",
 CellChangeTimes->{{3.7921467538991203`*^9, 3.7921467553647346`*^9}, {
   3.792147449722905*^9, 3.792147455507173*^9}, 3.7921480546037292`*^9},
 CellLabel->"In[67]:=",ExpressionUUID->"456664fa-27a2-4e8f-b129-8ee65abf7eba"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Avg ch3", "Subsubsection",
 CellChangeTimes->{{3.792145773429447*^9, 
  3.792145787636476*^9}},ExpressionUUID->"684f3759-0fba-46c8-b08d-\
4a71241fb662"],

Cell[BoxData[
 RowBox[{
  RowBox[{"meansc3", " ", "=", " ", 
   RowBox[{"MyImportMean", "[", 
    RowBox[{"\"\<*C3.tif\>\"", ",", " ", "myFolder", ",", 
     RowBox[{"myFileNames", "[", 
      RowBox[{"[", "n", "]"}], "]"}]}], "]"}]}], ";"}]], "Input",
 CellChangeTimes->{{3.7921467595163383`*^9, 3.792146761355569*^9}, 
   3.792148055706061*^9},
 CellLabel->"In[68]:=",ExpressionUUID->"90fd7a08-404c-4a07-a7c0-dfe4e8d398c0"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Merge, rearrange, and export as .tif ", "Subsubsection",
 CellChangeTimes->{{3.792145792098485*^9, 
  3.7921458024749203`*^9}},ExpressionUUID->"e9237160-ab94-4bce-badd-\
bb379f5aafe5"],

Cell[BoxData[
 RowBox[{
  RowBox[{"myTif", " ", "=", " ", 
   RowBox[{"Flatten", "@", 
    RowBox[{"Transpose", "[", 
     RowBox[{"{", 
      RowBox[{"meansc3", ",", "meansc2", ",", "meansc1", ",", "meansc0"}], 
      "}"}], "]"}]}]}], ";"}]], "Input",
 CellChangeTimes->{{3.7921467903745728`*^9, 3.7921468314206877`*^9}, {
  3.792146923296103*^9, 3.792146924371907*^9}},
 CellLabel->"In[69]:=",ExpressionUUID->"241ee23c-1561-4d45-bf96-2267c4a85be5"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"Export", "[", 
  RowBox[{
   RowBox[{"myExportFolder", " ", "<>", " ", "\"\<A_TESTIMG.tif\>\""}], ",", 
   " ", "myTif"}], "]"}]], "Input",
 CellChangeTimes->{{3.79214681476898*^9, 3.792146862962069*^9}, {
   3.7921469098771553`*^9, 3.7921469133980827`*^9}, 3.792147384895296*^9},
 CellLabel->"In[70]:=",ExpressionUUID->"6db5475c-a0ee-484f-bc86-f2d1910e1608"],

Cell[BoxData["\<\"/Volumes/BITTY/Confocal \
images/20200302_TA_dy405-aRCK_N-GFP-Ago2_Cy3-smF-smiFISH_Cy5-MS5-smFISH_\
Reorder/A_TESTIMG.tif\"\>"], "Output",
 CellChangeTimes->{3.79214686885039*^9, 3.792146927950869*^9, 
  3.7921473378057413`*^9, 3.792147386431835*^9, 3.792148076220292*^9, 
  3.792148107461591*^9, 3.792149413751128*^9, 3.792258270013895*^9},
 CellLabel->"Out[70]=",ExpressionUUID->"d60d5373-3020-4b1e-9576-be0ee2a14e3a"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["Function to do all this... ", "Subsubsection",
 CellChangeTimes->{{3.792146482661991*^9, 3.792146503509158*^9}, {
  3.792147406391588*^9, 
  3.792147409504972*^9}},ExpressionUUID->"af4cf0fe-ffa1-4dc9-bac4-\
ebd9c43b1e7b"],

Cell[BoxData[
 RowBox[{"(*", 
  RowBox[{
   RowBox[{"MyImportMean", "[", 
    RowBox[{"folder_", ",", "myExportFolder_"}], "]"}], " ", ":=", " ", 
   RowBox[{"Module", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{
      "file", ",", " ", "meansc0", ",", " ", "meansc1", ",", "meansc2", ",", 
       "meansc3", ",", "myTif"}], "}"}], ",", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"file", " ", "=", " ", 
       RowBox[{"myFileNames", "[", 
        RowBox[{"[", "n", "]"}], "]"}]}], ";", "\[IndentingNewLine]", 
      RowBox[{"meansc0", " ", "=", " ", 
       RowBox[{"MyImportMean", "[", 
        RowBox[{"\"\<*C0.tif\>\"", ",", " ", "folder", ",", " ", "file"}], 
        "]"}]}], ";", "\[IndentingNewLine]", 
      RowBox[{"meansc1", " ", "=", " ", 
       RowBox[{"MyImportMean", "[", 
        RowBox[{"\"\<*C1.tif\>\"", ",", " ", "folder", ",", " ", "file"}], 
        "]"}]}], ";", "\[IndentingNewLine]", 
      RowBox[{"meansc2", " ", "=", " ", 
       RowBox[{"MyImportMean", "[", 
        RowBox[{"\"\<*C2.tif\>\"", ",", " ", "folder", ",", " ", "file"}], 
        "]"}]}], ";", "\[IndentingNewLine]", 
      RowBox[{"meansc3", " ", "=", " ", 
       RowBox[{"MyImportMean", "[", 
        RowBox[{"\"\<*C3.tif\>\"", ",", " ", "folder", ",", " ", "file"}], 
        "]"}]}], ";", "\[IndentingNewLine]", 
      RowBox[{"myTif", " ", "=", " ", 
       RowBox[{"Flatten", "@", 
        RowBox[{"Transpose", "[", 
         RowBox[{"{", 
          RowBox[{"meansc3", ",", "meansc2", ",", "meansc1", ",", "meansc0"}],
           "}"}], "]"}]}]}], ";", "\[IndentingNewLine]", 
      RowBox[{"Export", "[", 
       RowBox[{
        RowBox[{"myExportFolder", " ", "<>", " ", "\"\<A_TESTIMG.tif\>\""}], 
        ",", " ", "myTif"}], "]"}], ";"}]}], "\[IndentingNewLine]", "]"}], 
   "\[IndentingNewLine]"}]}]], "Input",
 CellChangeTimes->{{3.792147446224197*^9, 3.79214748420494*^9}, {
   3.792147668423534*^9, 3.7921477176906643`*^9}, {3.7921477484141006`*^9, 
   3.7921477774728537`*^9}, {3.792147815130508*^9, 3.7921478157301273`*^9}, {
   3.792148144969841*^9, 3.792148157341771*^9}, {3.7921482327066813`*^9, 
   3.792148253791313*^9}, {3.7921486109964848`*^9, 3.792148611067493*^9}, 
   3.792148734657246*^9},
 EmphasizeSyntaxErrors->True,
 CellLabel->"In[71]:=",ExpressionUUID->"27368a00-6b53-46eb-84f2-e2e04f447dee"],

Cell[BoxData[
 RowBox[{"(*", 
  RowBox[{
   RowBox[{"MyImportMean", "[", 
    RowBox[{"\"\<*C0.tif\>\"", ",", " ", "myFolder", ",", " ", 
     RowBox[{"myFileNames", "[", 
      RowBox[{"[", "1", "]"}], "]"}]}], " ", "]"}], ";"}]}]], "Input",
 CellChangeTimes->{
  3.792148199463908*^9, {3.7921482569317627`*^9, 3.792148282527248*^9}, {
   3.792148333980019*^9, 3.7921483452947617`*^9}, 3.7921487302814217`*^9, {
   3.7921487690455437`*^9, 3.7921487921393623`*^9}, {3.792148913069407*^9, 
   3.792148920030925*^9}, {3.7921494509519672`*^9, 3.792149465161293*^9}, {
   3.792149551372365*^9, 3.792149551391127*^9}},
 EmphasizeSyntaxErrors->True,
 CellLabel->"In[71]:=",ExpressionUUID->"4e3b9003-42e0-4cb1-9c11-f48a48457586"],

Cell[BoxData[
 RowBox[{
  RowBox[{"(*", 
   RowBox[{"works", "!"}], "*)"}], "\[IndentingNewLine]", 
  RowBox[{"(*", 
   RowBox[{
    RowBox[{"MyReorderConfocalFiles", "[", 
     RowBox[{"file_", ",", " ", "folder_", ",", "myExportFolder_"}], "]"}], 
    " ", ":=", " ", 
    RowBox[{"Module", "[", 
     RowBox[{
      RowBox[{"{", " ", 
       RowBox[{
       "meansc0", ",", " ", "meansc1", ",", "meansc2", ",", "meansc3", ",", 
        "myTif"}], "}"}], ",", "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"meansc0", " ", "=", " ", 
        RowBox[{"MyImportMean", "[", 
         RowBox[{"\"\<*C0.tif\>\"", ",", " ", "folder", ",", " ", "file"}], 
         "]"}]}], ";", "\[IndentingNewLine]", 
       RowBox[{"meansc1", " ", "=", " ", 
        RowBox[{"MyImportMean", "[", 
         RowBox[{"\"\<*C1.tif\>\"", ",", " ", "folder", ",", " ", "file"}], 
         "]"}]}], ";", "\[IndentingNewLine]", 
       RowBox[{"meansc2", " ", "=", " ", 
        RowBox[{"MyImportMean", "[", 
         RowBox[{"\"\<*C2.tif\>\"", ",", " ", "folder", ",", " ", "file"}], 
         "]"}]}], ";", "\[IndentingNewLine]", 
       RowBox[{"meansc3", " ", "=", " ", 
        RowBox[{"MyImportMean", "[", 
         RowBox[{"\"\<*C3.tif\>\"", ",", " ", "folder", ",", " ", "file"}], 
         "]"}]}], ";", "\[IndentingNewLine]", 
       RowBox[{"myTif", " ", "=", " ", 
        RowBox[{"Flatten", "@", 
         RowBox[{"Transpose", "[", 
          RowBox[{"{", 
           RowBox[{
           "meansc3", ",", "meansc2", ",", "meansc1", ",", "meansc0"}], "}"}],
           "]"}]}]}], "    ", ";", "\[IndentingNewLine]", 
       RowBox[{"Export", "[", 
        RowBox[{
         RowBox[{"myExportFolder", " ", "<>", " ", "\"\<A1_TESTIMG.tif\>\""}],
          ",", " ", "myTif"}], "]"}], ";"}]}], " ", "\[IndentingNewLine]", 
     "]"}]}]}]}]], "Input",
 CellChangeTimes->{{3.792147784770564*^9, 3.792147793214135*^9}, {
   3.792147834429023*^9, 3.792147863590146*^9}, 3.7921481694773006`*^9, {
   3.792148370504368*^9, 3.792148380068544*^9}, {3.792148426036965*^9, 
   3.7921484488636503`*^9}, {3.792148485767619*^9, 3.792148522383491*^9}, {
   3.792148618330414*^9, 3.792148618596455*^9}, {3.792148814425561*^9, 
   3.7921488164597073`*^9}, {3.792148972001583*^9, 3.792148978235076*^9}, {
   3.7921490560827637`*^9, 3.792149070917646*^9}, 3.7921491144563828`*^9, {
   3.792149480954533*^9, 3.792149491691657*^9}, {3.7921495260363083`*^9, 
   3.7921495605046167`*^9}, {3.7921497118165407`*^9, 3.7921497118728657`*^9}},
 
 EmphasizeSyntaxErrors->True,
 CellLabel->"In[71]:=",ExpressionUUID->"326aa5e2-56e5-4c00-b786-ed587eeb532e"],

Cell[BoxData[
 RowBox[{
  RowBox[{"(*", 
   RowBox[{"works", "!"}], "*)"}], "\[IndentingNewLine]", 
  RowBox[{
   RowBox[{"MyReorderConfocalFiles", "[", 
    RowBox[{"file_", ",", " ", "folder_", ",", "myExportFolder_"}], "]"}], 
   " ", ":=", " ", 
   RowBox[{"Module", "[", 
    RowBox[{
     RowBox[{"{", " ", 
      RowBox[{
      "meansc0", ",", " ", "meansc1", ",", "meansc2", ",", "meansc3", ",", 
       "myTif"}], "}"}], ",", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"meansc0", " ", "=", " ", 
       RowBox[{"MyImportMean", "[", 
        RowBox[{"\"\<*C0.tif\>\"", ",", " ", "folder", ",", " ", "file"}], 
        "]"}]}], ";", "\[IndentingNewLine]", 
      RowBox[{"meansc1", " ", "=", " ", 
       RowBox[{"MyImportMean", "[", 
        RowBox[{"\"\<*C1.tif\>\"", ",", " ", "folder", ",", " ", "file"}], 
        "]"}]}], ";", "\[IndentingNewLine]", 
      RowBox[{"meansc2", " ", "=", " ", 
       RowBox[{"MyImportMean", "[", 
        RowBox[{"\"\<*C2.tif\>\"", ",", " ", "folder", ",", " ", "file"}], 
        "]"}]}], ";", "\[IndentingNewLine]", 
      RowBox[{"meansc3", " ", "=", " ", 
       RowBox[{"MyImportMean", "[", 
        RowBox[{"\"\<*C3.tif\>\"", ",", " ", "folder", ",", " ", "file"}], 
        "]"}]}], ";", "\[IndentingNewLine]", 
      RowBox[{"myTif", " ", "=", " ", 
       RowBox[{"Flatten", "@", 
        RowBox[{"Transpose", "[", 
         RowBox[{"{", 
          RowBox[{"meansc3", ",", "meansc2", ",", "meansc1", ",", "meansc0"}],
           "}"}], "]"}]}]}], "    ", ";", "\[IndentingNewLine]", 
      RowBox[{"Export", "[", 
       RowBox[{
        RowBox[{
        "myExportFolder", " ", "<>", "file", "<>", " ", 
         "\"\<_confocal.tif\>\""}], ",", " ", "myTif"}], "]"}], ";"}]}], " ", 
    "\[IndentingNewLine]", "]"}]}]}]], "Input",
 CellChangeTimes->{{3.7921495696676197`*^9, 3.792149570281645*^9}, {
  3.792149609635666*^9, 3.7921496527074747`*^9}, {3.792149715468213*^9, 
  3.792149716899433*^9}},
 CellLabel->"In[71]:=",ExpressionUUID->"3415bb3a-6e7c-4577-9ebf-c0dbc587f861"],

Cell[BoxData[
 RowBox[{"(*", 
  RowBox[{"MyReorderConfocalFiles", "[", " ", 
   RowBox[{
    RowBox[{"myFileNames", "[", 
     RowBox[{"[", "1", "]"}], "]"}], ",", " ", "myFolder", ",", 
    "myExportFolder"}], "]"}]}]], "Input",
 CellChangeTimes->{{3.7921483939092073`*^9, 3.792148398776909*^9}, {
   3.792148494862485*^9, 3.792148495086439*^9}, {3.7921490844512663`*^9, 
   3.792149090358409*^9}, 3.792149499671755*^9, {3.79226067456201*^9, 
   3.7922606746118603`*^9}},ExpressionUUID->"59b33562-4093-4b75-974d-\
4bad1b046e07"],

Cell[BoxData[""], "Input",
 CellChangeTimes->{{3.792149722792406*^9, 3.792149731825542*^9}, {
  3.7921497648797607`*^9, 3.792149791341226*^9}},
 CellLabel->"In[73]:=",ExpressionUUID->"8f79f868-aa2b-4575-af7b-ca08fbc462a9"],

Cell[BoxData[
 RowBox[{"(*", 
  RowBox[{"Table", "[", "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"MyReorderConfocalFiles", "[", " ", 
     RowBox[{
      RowBox[{"myFileNames", "[", 
       RowBox[{"[", "i", "]"}], "]"}], ",", " ", "myFolder", ",", 
      "myExportFolder"}], "]"}], " ", ",", " ", "\[IndentingNewLine]", 
    RowBox[{"{", 
     RowBox[{"i", ",", "1", ",", 
      RowBox[{"Length", "@", "myFileNames"}], ",", "1"}], "}"}]}], " ", 
   "]"}]}]], "Input",
 CellChangeTimes->{{3.7922606700080843`*^9, 
  3.792260670063343*^9}},ExpressionUUID->"9c3d6bab-534b-4ecc-94f4-\
6599c32970fe"]
}, Open  ]]
}, Open  ]]
},
WindowSize->{1011, 703},
WindowMargins->{{210, Automatic}, {47, Automatic}},
FrontEndVersion->"12.0 for Mac OS X x86 (64-bit) (April 8, 2019)",
StyleDefinitions->"Default.nb"
]
(* End of Notebook Content *)

(* Internal cache information *)
(*CellTagsOutline
CellTagsIndex->{}
*)
(*CellTagsIndex
CellTagsIndex->{}
*)
(*NotebookFileOutline
Notebook[{
Cell[CellGroupData[{
Cell[580, 22, 196, 3, 54, "Subsection",ExpressionUUID->"21d36d94-b570-47d6-b58b-cff4746375ef"],
Cell[CellGroupData[{
Cell[801, 29, 164, 3, 45, "Subsubsection",ExpressionUUID->"b711486f-6e0a-4f6c-84cd-714f2cec909d"],
Cell[968, 34, 201, 3, 35, "Text",ExpressionUUID->"6d99413f-5010-42de-95e6-87ef70bbfce9"],
Cell[1172, 39, 1277, 32, 94, "Input",ExpressionUUID->"123ca3ac-e170-43ce-8af1-911880e66476"]
}, Open  ]],
Cell[CellGroupData[{
Cell[2486, 76, 169, 3, 45, "Subsubsection",ExpressionUUID->"452dc843-d8c7-43dd-96e2-79bbb59b80f4"],
Cell[2658, 81, 704, 18, 73, "Input",ExpressionUUID->"7dfe137e-df8c-42d2-8b8b-660f0e4ee463"],
Cell[CellGroupData[{
Cell[3387, 103, 563, 12, 30, "Input",ExpressionUUID->"bbc767cd-e772-4556-807a-880a1bde893d"],
Cell[3953, 117, 525, 8, 34, "Output",ExpressionUUID->"c7b6c72f-80c3-4427-8bf7-d52e78d1f0b8"]
}, Open  ]],
Cell[CellGroupData[{
Cell[4515, 130, 152, 2, 30, "Input",ExpressionUUID->"8e4a112d-1d38-4096-bb39-72f0394a1535"],
Cell[4670, 134, 291, 4, 34, "Output",ExpressionUUID->"283b7ed4-9ad7-40ef-862f-05f472a4d2aa"]
}, Open  ]],
Cell[CellGroupData[{
Cell[4998, 143, 258, 4, 30, "Input",ExpressionUUID->"9d082adf-a039-456f-8c02-85148cfe470b"],
Cell[5259, 149, 202, 3, 34, "Output",ExpressionUUID->"08207733-4d6a-4a1c-831e-3639a7e488a9"]
}, Open  ]],
Cell[5476, 155, 824, 19, 73, "Input",ExpressionUUID->"457ed1a7-2143-48be-aec8-385a5f50e329"],
Cell[CellGroupData[{
Cell[6325, 178, 851, 22, 52, "Input",ExpressionUUID->"711036bd-543f-4be6-9434-b6a4a869f415"],
Cell[7179, 202, 2074, 31, 98, "Output",ExpressionUUID->"28e67549-235f-499f-bd10-fc335650159d"]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[9302, 239, 158, 3, 45, "Subsubsection",ExpressionUUID->"1213a38a-75a1-43ea-8c98-93d2443552f1"],
Cell[9463, 244, 212, 4, 30, "Input",ExpressionUUID->"cecc41fc-aa4d-43e8-abe8-22556d26ab7f"],
Cell[9678, 250, 457, 13, 73, "Input",ExpressionUUID->"9f742ec3-9a24-4b2c-8df3-626cf3d1d961"],
Cell[10138, 265, 838, 23, 52, "Input",ExpressionUUID->"8f96da9b-6e33-4570-b2c7-5b1b298359f7"],
Cell[10979, 290, 699, 16, 30, "Input",ExpressionUUID->"78e0ec4f-f59f-44f9-837e-0cf78d30ad3e"],
Cell[11681, 308, 713, 19, 30, "Input",ExpressionUUID->"a11fbb1e-7a1f-4f74-8dfc-4cce60354c91"],
Cell[12397, 329, 402, 8, 30, "Input",ExpressionUUID->"365ccc4e-de5c-438e-8554-0e2080e76c6a"]
}, Open  ]],
Cell[CellGroupData[{
Cell[12836, 342, 160, 3, 45, "Subsubsection",ExpressionUUID->"30c8e0f9-475b-4fdf-a723-fdf4e61452ed"],
Cell[12999, 347, 427, 9, 30, "Input",ExpressionUUID->"e8b1fec4-21d4-462b-b7d1-00aee2a8e5cf"]
}, Open  ]],
Cell[CellGroupData[{
Cell[13463, 361, 158, 3, 45, "Subsubsection",ExpressionUUID->"3bf18518-83b0-4cb6-b6e5-98c5301a2662"],
Cell[13624, 366, 475, 9, 30, "Input",ExpressionUUID->"456664fa-27a2-4e8f-b129-8ee65abf7eba"]
}, Open  ]],
Cell[CellGroupData[{
Cell[14136, 380, 158, 3, 45, "Subsubsection",ExpressionUUID->"684f3759-0fba-46c8-b08d-4a71241fb662"],
Cell[14297, 385, 425, 9, 30, "Input",ExpressionUUID->"90fd7a08-404c-4a07-a7c0-dfe4e8d398c0"]
}, Open  ]],
Cell[CellGroupData[{
Cell[14759, 399, 190, 3, 45, "Subsubsection",ExpressionUUID->"e9237160-ab94-4bce-badd-bb379f5aafe5"],
Cell[14952, 404, 451, 10, 30, "Input",ExpressionUUID->"241ee23c-1561-4d45-bf96-2267c4a85be5"],
Cell[CellGroupData[{
Cell[15428, 418, 383, 7, 30, "Input",ExpressionUUID->"6db5475c-a0ee-484f-bc86-f2d1910e1608"],
Cell[15814, 427, 438, 6, 56, "Output",ExpressionUUID->"d60d5373-3020-4b1e-9576-be0ee2a14e3a"]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[16301, 439, 227, 4, 45, "Subsubsection",ExpressionUUID->"af4cf0fe-ffa1-4dc9-bac4-ebd9c43b1e7b"],
Cell[16531, 445, 2337, 49, 220, "Input",ExpressionUUID->"27368a00-6b53-46eb-84f2-e2e04f447dee"],
Cell[18871, 496, 722, 14, 30, "Input",ExpressionUUID->"4e3b9003-42e0-4cb1-9c11-f48a48457586"],
Cell[19596, 512, 2615, 55, 199, "Input",ExpressionUUID->"326aa5e2-56e5-4c00-b786-ed587eeb532e"],
Cell[22214, 569, 2040, 46, 199, "Input",ExpressionUUID->"3415bb3a-6e7c-4577-9ebf-c0dbc587f861"],
Cell[24257, 617, 529, 11, 30, "Input",ExpressionUUID->"59b33562-4093-4b75-974d-4bad1b046e07"],
Cell[24789, 630, 222, 3, 30, "Input",ExpressionUUID->"8f79f868-aa2b-4575-af7b-ca08fbc462a9"],
Cell[25014, 635, 601, 15, 73, "Input",ExpressionUUID->"9c3d6bab-534b-4ecc-94f4-6599c32970fe"]
}, Open  ]]
}, Open  ]]
}
]
*)

